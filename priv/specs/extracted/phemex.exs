# Phemex Exchange Specification
#
# Auto-generated by: mix ccxt.extract phemex
# CCXT version: 4.5.34
# Spec format version: 1
#
# Review before use:
# - signing: Detected from sign() method, verify with testnet
# - endpoints: Raw paths extracted, map to unified API as needed
# - exceptions: Extracted (exact, broad, HTTP status codes)
# - features/options: Extracted from describe()
# - classification: Set to :supported initially, promote after validation
#
%{
  api_param_requirements: nil,
  certified: false,
  classification: :pro,
  comment: nil,
  countries: [
    "CN"
  ],
  currencies: %{},
  currency_aliases: %{
    "BCHSV" => "BSV",
    "XBT" => "BTC"
  },
  dex: false,
  enable_rate_limit: true,
  endpoint_extraction_stats: %{
    "capturedMethods" => 38,
    "coveragePercent" => 100,
    "enabledMethods" => 44,
    "excluded" => [
      %{
        "method" => "setMargin",
        "reason" => "symbol.endsWith is not a function"
      },
      %{
        "method" => "fetchMarketLeverageTiers",
        "reason" => "emulated (returns cached data, no HTTP call)"
      }
    ],
    "excludedMethods" => 2,
    "extractableMethods" => 42,
    "failures" => [
      %{
        "error" => "phemex fetchDepositAddress() requires a network parameter",
        "method" => "fetchDepositAddress"
      },
      %{
        "error" => "phemex fetchLeverageTiers() supports USD settled markets only",
        "method" => "fetchLeverageTiers"
      },
      %{
        "error" => "phemex setMarginMode() requires a \"leverage\" parameter for USDT markets",
        "method" => "setMarginMode"
      },
      %{
        "error" => "phemex does not have currency code 0.01",
        "method" => "createConvertTrade"
      }
    ]
  },
  endpoints: [
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      market_type: :spot,
      method: :delete,
      name: :cancel_all_orders,
      param_mappings: %{},
      params: [
        :symbol
      ],
      path: "/spot/orders/all",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      market_type: :spot,
      method: :delete,
      name: :cancel_order,
      param_mappings: %{
        "id" => "orderID"
      },
      params: [
        :id,
        :symbol
      ],
      path: "/spot/orders",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      default_params: %{
        "baseQtyEv" => 0.1,
        "clOrdID" => "CCXT123456f0868d8ee431aff8",
        "ordType" => "Limit",
        "priceEp" => 0.5,
        "qtyType" => "ByBase"
      },
      market_type: :spot,
      method: :post,
      name: :create_limit_order,
      param_mappings: %{},
      params: [
        :symbol,
        :side,
        :amount,
        :price
      ],
      path: "/spot/orders",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      default_params: %{
        "baseQtyEv" => 0.1,
        "clOrdID" => "CCXT1234568b7d5e1554ecadc0",
        "ordType" => "Market",
        "qtyType" => "ByBase"
      },
      market_type: :spot,
      method: :post,
      name: :create_market_order,
      param_mappings: %{},
      params: [
        :symbol,
        :side,
        :amount,
        :price
      ],
      path: "/spot/orders",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      default_params: %{
        "baseQtyEv" => 0.1,
        "clOrdID" => "CCXT1234561c43136bc447be24",
        "priceEp" => 0.5,
        "qtyType" => "ByBase"
      },
      market_type: :spot,
      method: :post,
      name: :create_order,
      param_mappings: %{
        "type" => "ordType"
      },
      params: [
        :symbol,
        :type,
        :side,
        :amount,
        :price
      ],
      path: "/spot/orders",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      default_params: %{
        "clOrdID" => "CCXT1234569c39c24db4d386be",
        "posSide" => "Merged",
        "reduceOnly" => true,
        "symbol" => "BTCUSDT"
      },
      market_type: :swap,
      method: :post,
      name: :create_reduce_only_order,
      param_mappings: %{
        "amount" => "orderQtyRq",
        "price" => "priceRp",
        "type" => "ordType"
      },
      params: [
        :symbol,
        :type,
        :side,
        :amount,
        :price
      ],
      path: "/g-orders",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      default_params: %{
        "clOrdID" => "CCXT123456092b2a6464f1899e",
        "ordType" => "Limit",
        "posSide" => "Merged",
        "symbol" => "BTCUSDT",
        "triggerType" => "ByMarkPrice"
      },
      market_type: :swap,
      method: :post,
      name: :create_stop_limit_order,
      param_mappings: %{
        "amount" => "orderQtyRq",
        "price" => "priceRp",
        "triggerPrice" => "stopPxRp"
      },
      params: [
        :symbol,
        :side,
        :amount,
        :price,
        :triggerPrice
      ],
      path: "/g-orders",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      default_params: %{
        "clOrdID" => "CCXT123456eaae6f2ea4839ef4",
        "ordType" => "Market",
        "posSide" => "Merged",
        "symbol" => "BTCUSDT",
        "triggerType" => "ByMarkPrice"
      },
      market_type: :swap,
      method: :post,
      name: :create_stop_market_order,
      param_mappings: %{
        "amount" => "orderQtyRq",
        "triggerPrice" => "stopPxRp"
      },
      params: [
        :symbol,
        :side,
        :amount,
        :triggerPrice
      ],
      path: "/g-orders",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      default_params: %{
        "clOrdID" => "CCXT123456af7a81a4e483808e",
        "posSide" => "Merged",
        "symbol" => "BTCUSDT",
        "triggerType" => "ByMarkPrice"
      },
      market_type: :swap,
      method: :post,
      name: :create_stop_order,
      param_mappings: %{
        "amount" => "orderQtyRq",
        "price" => "priceRp",
        "triggerPrice" => "stopPxRp",
        "type" => "ordType"
      },
      params: [
        :symbol,
        :type,
        :side,
        :amount,
        :price,
        :triggerPrice
      ],
      path: "/g-orders",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      default_params: %{
        "baseQtyEV" => 0.1,
        "priceEp" => 0.5
      },
      market_type: :spot,
      method: :put,
      name: :edit_order,
      param_mappings: %{
        "id" => "orderID"
      },
      params: [
        :id,
        :symbol,
        :type,
        :side,
        :amount,
        :price
      ],
      path: "/spot/orders",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      market_type: :spot,
      method: :get,
      name: :fetch_balance,
      param_mappings: %{},
      params: [],
      path: "/spot/wallets",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      market_type: :spot,
      method: :get,
      name: :fetch_closed_orders,
      param_mappings: %{},
      params: [
        :symbol,
        :since,
        :limit
      ],
      path: "/exchange/spot/order",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      default_params: %{
        "fromAmountEv" => 0.1
      },
      market_type: :spot,
      method: :get,
      name: :fetch_convert_quote,
      param_mappings: %{
        "fromCode" => "fromCurrency",
        "toCode" => "toCurrency"
      },
      params: [
        :fromCode,
        :toCode,
        :amount
      ],
      path: "/assets/quote",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      market_type: :spot,
      method: :get,
      name: :fetch_convert_trade_history,
      param_mappings: %{},
      params: [
        :code,
        :since,
        :limit
      ],
      path: "/assets/convert",
      source: :intercepted
    },
    %{
      api_section: "v2",
      auth: false,
      base_url: "https://{hostname}",
      cost: 1.0,
      market_type: :spot,
      method: :get,
      name: :fetch_currencies,
      param_mappings: %{},
      params: [],
      path: "/public/products",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      market_type: :spot,
      method: :get,
      name: :fetch_deposits,
      param_mappings: %{},
      params: [
        :code,
        :since,
        :limit
      ],
      path: "/exchange/wallets/depositList",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      default_params: %{
        "symbol" => "BTCUSDT"
      },
      market_type: :swap,
      method: :get,
      name: :fetch_funding_history,
      param_mappings: %{},
      params: [
        :symbol,
        :since,
        :limit
      ],
      path: "/api-data/g-futures/funding-fees",
      source: :intercepted
    },
    %{
      api_section: "v2",
      auth: false,
      base_url: "https://{hostname}",
      cost: 1.0,
      default_params: %{
        "category" => "linear",
        "symbol" => "BTCUSDT"
      },
      market_type: :swap,
      method: :get,
      name: :fetch_funding_rate,
      param_mappings: %{},
      params: [
        :symbol
      ],
      path: "/md/v2/ticker/24hr",
      source: :intercepted
    },
    %{
      api_section: "v2",
      auth: false,
      base_url: "https://{hostname}",
      cost: 1.0,
      default_params: %{
        "category" => "linear",
        "symbol" => ".BTCUSDTFR8H"
      },
      market_type: :swap,
      method: :get,
      name: :fetch_funding_rate_history,
      param_mappings: %{},
      params: [
        :symbol,
        :since,
        :limit
      ],
      path: "/api-data/public/data/funding-rate-history",
      source: :intercepted
    },
    %{
      api_section: "v1",
      auth: false,
      base_url: "https://{hostname}/v1",
      cost: 1.0,
      market_type: :spot,
      method: :get,
      name: :fetch_l2_order_book,
      param_mappings: %{},
      params: [
        :symbol,
        :limit
      ],
      path: "/md/fullbook",
      source: :intercepted
    },
    %{
      api_section: "v2",
      auth: false,
      base_url: "https://{hostname}",
      cost: 1.0,
      market_type: :spot,
      method: :get,
      name: :fetch_markets,
      param_mappings: %{},
      params: [],
      path: "/public/products",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      market_type: :spot,
      method: :get,
      name: :fetch_my_trades,
      param_mappings: %{},
      params: [
        :symbol,
        :since,
        :limit
      ],
      path: "/exchange/spot/order/trades",
      source: :intercepted
    },
    %{
      api_section: "public",
      auth: false,
      cost: 1.0,
      default_params: %{
        "resolution" => "3600"
      },
      market_type: :spot,
      method: :get,
      name: :fetch_ohlcv,
      param_mappings: %{
        "timeframe" => "resolution"
      },
      params: [
        :symbol,
        :timeframe,
        :since,
        :limit
      ],
      path: "/md/v2/kline",
      source: :intercepted
    },
    %{
      api_section: "v2",
      auth: false,
      base_url: "https://{hostname}",
      cost: 1.0,
      default_params: %{
        "category" => "linear",
        "symbol" => "BTCUSDT"
      },
      market_type: :swap,
      method: :get,
      name: :fetch_open_interest,
      param_mappings: %{},
      params: [
        :symbol
      ],
      path: "/md/v2/ticker/24hr",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      market_type: :spot,
      method: :get,
      name: :fetch_open_orders,
      param_mappings: %{},
      params: [
        :symbol,
        :since,
        :limit
      ],
      path: "/spot/orders",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      market_type: :spot,
      method: :get,
      name: :fetch_order,
      param_mappings: %{
        "id" => "orderID"
      },
      params: [
        :id,
        :symbol
      ],
      path: "/api-data/spots/orders/by-order-id",
      source: :intercepted
    },
    %{
      api_section: "v1",
      auth: false,
      base_url: "https://{hostname}/v1",
      cost: 1.0,
      market_type: :spot,
      method: :get,
      name: :fetch_order_book,
      param_mappings: %{},
      params: [
        :symbol,
        :limit
      ],
      path: "/md/orderbook",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      market_type: :spot,
      method: :get,
      name: :fetch_orders,
      param_mappings: %{},
      params: [
        :symbol,
        :since,
        :limit
      ],
      path: "/api-data/spots/orders",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      default_params: %{
        "category" => "linear",
        "currency" => "USDT"
      },
      market_type: :swap,
      method: :get,
      name: :fetch_positions,
      param_mappings: %{},
      params: [
        :symbols
      ],
      path: "/g-accounts/accountPositions",
      source: :intercepted
    },
    %{
      api_section: "v1",
      auth: false,
      base_url: "https://{hostname}/v1",
      cost: 1.0,
      market_type: :spot,
      method: :get,
      name: :fetch_ticker,
      param_mappings: %{},
      params: [
        :symbol
      ],
      path: "/md/spot/ticker/24hr",
      source: :intercepted
    },
    %{
      api_section: "v1",
      auth: false,
      base_url: "https://{hostname}/v1",
      cost: 1.0,
      market_type: :spot,
      method: :get,
      name: :fetch_tickers,
      param_mappings: %{},
      params: [
        :symbols
      ],
      path: "/md/spot/ticker/24hr/all",
      source: :intercepted
    },
    %{
      api_section: "v1",
      auth: false,
      base_url: "https://{hostname}/v1",
      cost: 1.0,
      market_type: :spot,
      method: :get,
      name: :fetch_trades,
      param_mappings: %{},
      params: [
        :symbol,
        :since,
        :limit
      ],
      path: "/md/trade",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      market_type: :spot,
      method: :get,
      name: :fetch_transfers,
      param_mappings: %{
        "code" => "currency"
      },
      params: [
        :code,
        :since,
        :limit
      ],
      path: "/assets/transfer",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      market_type: :spot,
      method: :get,
      name: :fetch_withdrawals,
      param_mappings: %{},
      params: [
        :code,
        :since,
        :limit
      ],
      path: "/exchange/wallets/withdrawList",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      default_params: %{
        "symbol" => "BTCUSDT"
      },
      market_type: :swap,
      method: :put,
      name: :set_leverage,
      param_mappings: %{
        "leverage" => "leverageRr"
      },
      params: [
        :leverage,
        :symbol
      ],
      path: "/g-positions/leverage",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      default_params: %{
        "symbol" => "BTCUSDT",
        "targetPosMode" => "Hedged"
      },
      market_type: :swap,
      method: :put,
      name: :set_position_mode,
      param_mappings: %{},
      params: [
        :hedged,
        :symbol
      ],
      path: "/g-positions/switch-pos-mode-sync",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      default_params: %{
        "amountEv" => 0.1,
        "moveOp" => 2
      },
      market_type: :spot,
      method: :post,
      name: :transfer,
      param_mappings: %{
        "code" => "currency"
      },
      params: [
        :code,
        :amount,
        :fromAccount,
        :toAccount
      ],
      path: "/assets/transfer",
      source: :intercepted
    },
    %{
      api_section: "private",
      auth: true,
      cost: 1.0,
      market_type: :spot,
      method: :post,
      name: :withdraw,
      param_mappings: %{},
      params: [
        :code,
        :amount,
        :address,
        :tag
      ],
      path: "/phemex-withdraw/wallets/api/createWithdraw",
      source: :intercepted
    }
  ],
  error_code_details: %{
    10001 => %{
      description: "OM_DUPLICATE_ORDERID Duplicated order ID",
      type: :invalid_order
    },
    10002 => %{
      description: "OM_ORDER_NOT_FOUND Cannot find order ID",
      type: :order_not_found
    },
    10003 => %{
      description: "OM_ORDER_PENDING_CANCEL Cannot cancel while order is already in pending cancel status",
      type: :exchange_error
    },
    10004 => %{
      description: "OM_ORDER_PENDING_REPLACE Cannot cancel while order is already in pending cancel status",
      type: :exchange_error
    },
    10005 => %{
      description: "OM_ORDER_PENDING Cannot cancel while order is already in pending cancel status",
      type: :exchange_error
    },
    11001 => %{
      description: "TE_NO_ENOUGH_AVAILABLE_BALANCE Insufficient available balance",
      type: :insufficient_balance
    },
    11002 => %{
      description: "TE_INVALID_RISK_LIMIT Invalid risk limit value",
      type: :invalid_order
    },
    11003 => %{
      description: "TE_NO_ENOUGH_BALANCE_FOR_NEW_RISK_LIMIT Insufficient available balance",
      type: :insufficient_balance
    },
    11004 => %{
      description: "TE_INVALID_LEVERAGE invalid input or new leverage is over maximum allowed leverage",
      type: :invalid_order
    },
    11005 => %{
      description: "TE_NO_ENOUGH_BALANCE_FOR_NEW_LEVERAGE Insufficient available balance",
      type: :insufficient_balance
    },
    11006 => %{
      description: "TE_CANNOT_CHANGE_POSITION_MARGIN_WITHOUT_POSITION Position size is zero. Cannot change margin",
      type: :exchange_error
    },
    11007 => %{
      description: "TE_CANNOT_CHANGE_POSITION_MARGIN_FOR_CROSS_MARGIN Cannot change margin under CrossMargin",
      type: :exchange_error
    },
    11008 => %{
      description: "TE_CANNOT_REMOVE_POSITION_MARGIN_MORE_THAN_ADDED exceeds the maximum removable Margin",
      type: :exchange_error
    },
    11009 => %{
      description: "TE_CANNOT_REMOVE_POSITION_MARGIN_DUE_TO_UNREALIZED_PNL exceeds the maximum removable Margin",
      type: :exchange_error
    },
    11010 => %{
      description: "TE_CANNOT_ADD_POSITION_MARGIN_DUE_TO_NO_ENOUGH_AVAILABLE_BALANCE Insufficient available balance",
      type: :insufficient_balance
    },
    11011 => %{
      description: "TE_REDUCE_ONLY_ABORT Cannot accept reduce only order",
      type: :invalid_order
    },
    11012 => %{
      description: "TE_REPLACE_TO_INVALID_QTY Order quantity Error",
      type: :invalid_order
    },
    11013 => %{
      description: "TE_CONDITIONAL_NO_POSITION Position size is zero. Cannot determine conditional order's quantity",
      type: :invalid_order
    },
    11014 => %{
      description: "TE_CONDITIONAL_CLOSE_POSITION_WRONG_SIDE Close position conditional order has the same side",
      type: :invalid_order
    },
    11015 => %{
      description: "TE_CONDITIONAL_TRIGGERED_OR_CANCELED",
      type: :invalid_order
    },
    11016 => %{
      description: "TE_ADL_NOT_TRADING_REQUESTED_ACCOUNT Request is routed to the wrong trading engine",
      type: :invalid_parameters
    },
    11017 => %{
      description: "TE_ADL_CANNOT_FIND_POSITION Cannot find requested position on current account",
      type: :exchange_error
    },
    11018 => %{
      description: "TE_NO_NEED_TO_SETTLE_FUNDING The current account does not need to pay a funding fee",
      type: :exchange_error
    },
    11019 => %{
      description: "TE_FUNDING_ALREADY_SETTLED The current account already pays the funding fee",
      type: :exchange_error
    },
    11020 => %{
      description: "TE_CANNOT_TRANSFER_OUT_DUE_TO_BONUS Withdraw to wallet needs to remove all remaining bonus. However if bonus is used by position or order cost, withdraw fails.",
      type: :exchange_error
    },
    11021 => %{
      description: "TE_INVALID_BONOUS_AMOUNT // Grpc command cannot be negative number Invalid bonus amount",
      type: :exchange_error
    },
    11022 => %{
      description: "TE_REJECT_DUE_TO_BANNED Account is banned",
      type: :access_restricted
    },
    11023 => %{
      description: "TE_REJECT_DUE_TO_IN_PROCESS_OF_LIQ Account is in the process of liquidation",
      type: :exchange_error
    },
    11024 => %{
      description: "TE_REJECT_DUE_TO_IN_PROCESS_OF_ADL Account is in the process of auto-deleverage",
      type: :exchange_error
    },
    11025 => %{
      description: "TE_ROUTE_ERROR Request is routed to the wrong trading engine",
      type: :invalid_parameters
    },
    11026 => %{
      description: "TE_UID_ACCOUNT_MISMATCH",
      type: :exchange_error
    },
    11027 => %{
      description: "TE_SYMBOL_INVALID Invalid number ID or name",
      type: :invalid_order
    },
    11028 => %{
      description: "TE_CURRENCY_INVALID Invalid currency ID or name",
      type: :invalid_order
    },
    11029 => %{
      description: "TE_ACTION_INVALID Unrecognized request type",
      type: :exchange_error
    },
    11030 => %{
      description: "TE_ACTION_BY_INVALID",
      type: :exchange_error
    },
    11031 => %{
      description: "TE_SO_NUM_EXCEEDS Number of total conditional orders exceeds the max limit",
      type: :rate_limited
    },
    11032 => %{
      description: "TE_AO_NUM_EXCEEDS Number of total active orders exceeds the max limit",
      type: :rate_limited
    },
    11033 => %{
      description: "TE_ORDER_ID_DUPLICATE Duplicated order ID",
      type: :invalid_order
    },
    11034 => %{
      description: "TE_SIDE_INVALID Invalid side",
      type: :invalid_order
    },
    11035 => %{
      description: "TE_ORD_TYPE_INVALID Invalid OrderType",
      type: :invalid_order
    },
    11036 => %{
      description: "TE_TIME_IN_FORCE_INVALID Invalid TimeInForce",
      type: :invalid_order
    },
    11037 => %{
      description: "TE_EXEC_INST_INVALID Invalid ExecType",
      type: :invalid_order
    },
    11038 => %{
      description: "TE_TRIGGER_INVALID Invalid trigger type",
      type: :invalid_order
    },
    11039 => %{
      description: "TE_STOP_DIRECTION_INVALID Invalid stop direction type",
      type: :invalid_order
    },
    11040 => %{
      description: "TE_NO_MARK_PRICE Cannot get valid mark price to create conditional order",
      type: :invalid_order
    },
    11041 => %{
      description: "TE_NO_INDEX_PRICE Cannot get valid index price to create conditional order",
      type: :invalid_order
    },
    11042 => %{
      description: "TE_NO_LAST_PRICE Cannot get valid last market price to create conditional order",
      type: :invalid_order
    },
    11043 => %{
      description: "TE_RISING_TRIGGER_DIRECTLY Conditional order would be triggered immediately",
      type: :invalid_order
    },
    11044 => %{
      description: "TE_FALLING_TRIGGER_DIRECTLY Conditional order would be triggered immediately",
      type: :invalid_order
    },
    11045 => %{
      description: "TE_TRIGGER_PRICE_TOO_LARGE Conditional order trigger price is too high",
      type: :invalid_order
    },
    11046 => %{
      description: "TE_TRIGGER_PRICE_TOO_SMALL Conditional order trigger price is too low",
      type: :invalid_order
    },
    11047 => %{
      description: "TE_BUY_TP_SHOULD_GT_BASE TakeProfile BUY conditional order trigger price needs to be greater than reference price",
      type: :invalid_order
    },
    11048 => %{
      description: "TE_BUY_SL_SHOULD_LT_BASE StopLoss BUY condition order price needs to be less than the reference price",
      type: :invalid_order
    },
    11049 => %{
      description: "TE_BUY_SL_SHOULD_GT_LIQ StopLoss BUY condition order price needs to be greater than liquidation price or it will not trigger",
      type: :invalid_order
    },
    11050 => %{
      description: "TE_SELL_TP_SHOULD_LT_BASE TakeProfile SELL conditional order trigger price needs to be less than reference price",
      type: :invalid_order
    },
    11051 => %{
      description: "TE_SELL_SL_SHOULD_LT_LIQ StopLoss SELL condition order price needs to be less than liquidation price or it will not trigger",
      type: :invalid_order
    },
    11052 => %{
      description: "TE_SELL_SL_SHOULD_GT_BASE StopLoss SELL condition order price needs to be greater than the reference price",
      type: :invalid_order
    },
    11053 => %{
      description: "TE_PRICE_TOO_LARGE",
      type: :invalid_order
    },
    11054 => %{
      description: "TE_PRICE_WORSE_THAN_BANKRUPT Order price cannot be more aggressive than bankrupt price if this order has instruction to close a position",
      type: :invalid_order
    },
    11055 => %{
      description: "TE_PRICE_TOO_SMALL Order price is too low",
      type: :invalid_order
    },
    11056 => %{
      description: "TE_QTY_TOO_LARGE Order quantity is too large",
      type: :invalid_order
    },
    11057 => %{
      description: "TE_QTY_NOT_MATCH_REDUCE_ONLY Does not allow ReduceOnly order without position",
      type: :invalid_order
    },
    11058 => %{
      description: "TE_QTY_TOO_SMALL Order quantity is too small",
      type: :invalid_order
    },
    11059 => %{
      description: "TE_TP_SL_QTY_NOT_MATCH_POS Position size is zero. Cannot accept any TakeProfit or StopLoss order",
      type: :invalid_order
    },
    11060 => %{
      description: "TE_SIDE_NOT_CLOSE_POS TakeProfit or StopLoss order has wrong side. Cannot close position",
      type: :invalid_order
    },
    11061 => %{
      description: "TE_ORD_ALREADY_PENDING_CANCEL Repeated cancel request",
      type: :exchange_error
    },
    11062 => %{
      description: "TE_ORD_ALREADY_CANCELED Order is already canceled",
      type: :invalid_order
    },
    11063 => %{
      description: "TE_ORD_STATUS_CANNOT_CANCEL Order is not able to be canceled under current status",
      type: :invalid_order
    },
    11064 => %{
      description: "TE_ORD_ALREADY_PENDING_REPLACE Replace request is rejected because order is already in pending replace status",
      type: :invalid_order
    },
    11065 => %{
      description: "TE_ORD_REPLACE_NOT_MODIFIED Replace request does not modify any parameters of the order",
      type: :invalid_order
    },
    11066 => %{
      description: "TE_ORD_STATUS_CANNOT_REPLACE Order is not able to be replaced under current status",
      type: :invalid_order
    },
    11067 => %{
      description: "TE_CANNOT_REPLACE_PRICE Market conditional order cannot change price",
      type: :invalid_order
    },
    11068 => %{
      description: "TE_CANNOT_REPLACE_QTY Condtional order for closing position cannot change order quantity, since the order quantity is determined by position size already",
      type: :invalid_order
    },
    11069 => %{
      description: "TE_ACCOUNT_NOT_IN_RANGE The account ID in the request is not valid or is not in the range of the current process",
      type: :exchange_error
    },
    11070 => %{
      description: "TE_SYMBOL_NOT_IN_RANGE The symbol is invalid",
      type: :invalid_order
    },
    11071 => %{
      description: "TE_ORD_STATUS_CANNOT_TRIGGER",
      type: :invalid_order
    },
    11072 => %{
      description: "TE_TKFR_NOT_IN_RANGE The fee value is not valid",
      type: :invalid_order
    },
    11073 => %{
      description: "TE_MKFR_NOT_IN_RANGE The fee value is not valid",
      type: :invalid_order
    },
    11074 => %{
      description: "TE_CANNOT_ATTACH_TP_SL Order request cannot contain TP/SL parameters when the account already has positions",
      type: :invalid_order
    },
    11075 => %{
      description: "TE_TP_TOO_LARGE TakeProfit price is too large",
      type: :invalid_order
    },
    11076 => %{
      description: "TE_TP_TOO_SMALL TakeProfit price is too small",
      type: :invalid_order
    },
    11077 => %{
      description: "TE_TP_TRIGGER_INVALID Invalid trigger type",
      type: :invalid_order
    },
    11078 => %{
      description: "TE_SL_TOO_LARGE StopLoss price is too large",
      type: :invalid_order
    },
    11079 => %{
      description: "TE_SL_TOO_SMALL StopLoss price is too small",
      type: :invalid_order
    },
    11080 => %{
      description: "TE_SL_TRIGGER_INVALID Invalid trigger type",
      type: :invalid_order
    },
    11081 => %{
      description: "TE_RISK_LIMIT_EXCEEDS Total potential position breaches current risk limit",
      type: :invalid_order
    },
    11082 => %{
      description: "TE_CANNOT_COVER_ESTIMATE_ORDER_LOSS The remaining balance cannot cover the potential unrealized PnL for this new order",
      type: :insufficient_balance
    },
    11083 => %{
      description: "TE_TAKE_PROFIT_ORDER_DUPLICATED TakeProfit order already exists",
      type: :invalid_order
    },
    11084 => %{
      description: "TE_STOP_LOSS_ORDER_DUPLICATED StopLoss order already exists",
      type: :invalid_order
    },
    11085 => %{
      description: "TE_CL_ORD_ID_DUPLICATE ClOrdId is duplicated",
      type: :invalid_order
    },
    11086 => %{
      description: "TE_PEG_PRICE_TYPE_INVALID PegPriceType is invalid",
      type: :invalid_order
    },
    11087 => %{
      description: "TE_BUY_TS_SHOULD_LT_BASE The trailing order's StopPrice should be less than the current last price",
      type: :invalid_order
    },
    11088 => %{
      description: "TE_BUY_TS_SHOULD_GT_LIQ The traling order's StopPrice should be greater than the current liquidation price",
      type: :invalid_order
    },
    11089 => %{
      description: "TE_SELL_TS_SHOULD_LT_LIQ The traling order's StopPrice should be greater than the current last price",
      type: :invalid_order
    },
    11090 => %{
      description: "TE_SELL_TS_SHOULD_GT_BASE The traling order's StopPrice should be less than the current liquidation price",
      type: :invalid_order
    },
    11091 => %{
      description: "TE_BUY_REVERT_VALUE_SHOULD_LT_ZERO The PegOffset should be less than zero",
      type: :invalid_order
    },
    11092 => %{
      description: "TE_SELL_REVERT_VALUE_SHOULD_GT_ZERO The PegOffset should be greater than zero",
      type: :invalid_order
    },
    11093 => %{
      description: "TE_BUY_TTP_SHOULD_ACTIVATE_ABOVE_BASE The activation price should be greater than the current last price",
      type: :invalid_order
    },
    11094 => %{
      description: "TE_SELL_TTP_SHOULD_ACTIVATE_BELOW_BASE The activation price should be less than the current last price",
      type: :invalid_order
    },
    11095 => %{
      description: "TE_TRAILING_ORDER_DUPLICATED A trailing order exists already",
      type: :invalid_order
    },
    11096 => %{
      description: "TE_CLOSE_ORDER_CANNOT_ATTACH_TP_SL An order to close position cannot have trailing instruction",
      type: :invalid_order
    },
    11097 => %{
      description: "TE_CANNOT_FIND_WALLET_OF_THIS_CURRENCY This crypto is not supported",
      type: :invalid_parameters
    },
    11098 => %{
      description: "TE_WALLET_INVALID_ACTION Invalid action on wallet",
      type: :invalid_parameters
    },
    11099 => %{
      description: "TE_WALLET_VID_UNMATCHED Wallet operation request has a wrong wallet vid",
      type: :exchange_error
    },
    11100 => %{
      description: "TE_WALLET_INSUFFICIENT_BALANCE Wallet has insufficient balance",
      type: :insufficient_balance
    },
    11101 => %{
      description: "TE_WALLET_INSUFFICIENT_LOCKED_BALANCE Locked balance in wallet is not enough for unlock/withdraw request",
      type: :insufficient_balance
    },
    11102 => %{
      description: "TE_WALLET_INVALID_DEPOSIT_AMOUNT Deposit amount must be greater than zero",
      type: :invalid_parameters
    },
    11103 => %{
      description: "TE_WALLET_INVALID_WITHDRAW_AMOUNT Withdraw amount must be less than zero",
      type: :invalid_parameters
    },
    11104 => %{
      description: "TE_WALLET_REACHED_MAX_AMOUNT Deposit makes wallet exceed max amount allowed",
      type: :invalid_parameters
    },
    11105 => %{
      description: "TE_PLACE_ORDER_INSUFFICIENT_BASE_BALANCE Insufficient funds in base wallet",
      type: :insufficient_balance
    },
    11106 => %{
      description: "TE_PLACE_ORDER_INSUFFICIENT_QUOTE_BALANCE Insufficient funds in quote wallet",
      type: :insufficient_balance
    },
    11107 => %{
      description: "TE_CANNOT_CONNECT_TO_REQUEST_SEQ TradingEngine failed to connect with CrossEngine",
      type: :exchange_error
    },
    11108 => %{
      description: "TE_CANNOT_REPLACE_OR_CANCEL_MARKET_ORDER Cannot replace/amend market order",
      type: :invalid_order
    },
    11109 => %{
      description: "TE_CANNOT_REPLACE_OR_CANCEL_IOC_ORDER Cannot replace/amend ImmediateOrCancel order",
      type: :invalid_order
    },
    11110 => %{
      description: "TE_CANNOT_REPLACE_OR_CANCEL_FOK_ORDER Cannot replace/amend FillOrKill order",
      type: :invalid_order
    },
    11111 => %{
      description: "TE_MISSING_ORDER_ID OrderId is missing",
      type: :invalid_order
    },
    11112 => %{
      description: "TE_QTY_TYPE_INVALID QtyType is invalid",
      type: :invalid_order
    },
    11113 => %{
      description: "TE_USER_ID_INVALID UserId is invalid",
      type: :invalid_parameters
    },
    11114 => %{
      description: "TE_ORDER_VALUE_TOO_LARGE Order value is too large",
      type: :invalid_order
    },
    11115 => %{
      description: "TE_ORDER_VALUE_TOO_SMALL Order value is too small",
      type: :invalid_order
    },
    11116 => %{
      description: "TE_BO_NUM_EXCEEDS Details: the total count of brakcet orders should equal or less than 5",
      type: :invalid_order
    },
    11117 => %{
      description: "TE_BO_CANNOT_HAVE_BO_WITH_DIFF_SIDE Details: all bracket orders should have the same Side.",
      type: :invalid_order
    },
    11118 => %{
      description: "TE_BO_TP_PRICE_INVALID Details: bracker order take profit price is invalid",
      type: :invalid_order
    },
    11119 => %{
      description: "TE_BO_SL_PRICE_INVALID Details: bracker order stop loss price is invalid",
      type: :invalid_order
    },
    11120 => %{
      description: "TE_BO_SL_TRIGGER_PRICE_INVALID Details: bracker order stop loss trigger price is invalid",
      type: :invalid_order
    },
    11121 => %{
      description: "TE_BO_CANNOT_REPLACE Details: cannot replace bracket order.",
      type: :invalid_order
    },
    11122 => %{
      description: "TE_BO_BOTP_STATUS_INVALID Details: bracket take profit order status is invalid",
      type: :invalid_order
    },
    11123 => %{
      description: "TE_BO_CANNOT_PLACE_BOTP_OR_BOSL_ORDER Details: cannot place bracket take profit order",
      type: :invalid_order
    },
    11124 => %{
      description: "TE_BO_CANNOT_REPLACE_BOTP_OR_BOSL_ORDER Details: cannot place bracket stop loss order",
      type: :invalid_order
    },
    11125 => %{
      description: "TE_BO_CANNOT_CANCEL_BOTP_OR_BOSL_ORDER Details: cannot cancel bracket sl/tp order",
      type: :invalid_order
    },
    11126 => %{
      description: "TE_BO_DONOT_SUPPORT_API Details: doesn't support bracket order via API",
      type: :invalid_order
    },
    11128 => %{
      description: "TE_BO_INVALID_EXECINST Details: ExecInst value is invalid",
      type: :invalid_order
    },
    11129 => %{
      description: "TE_BO_MUST_BE_SAME_SIDE_AS_POS Details: bracket order should have the same side as position's side",
      type: :invalid_order
    },
    11130 => %{
      description: "TE_BO_WRONG_SL_TRIGGER_TYPE Details: bracket stop loss order trigger type is invalid",
      type: :invalid_order
    },
    11131 => %{
      description: "TE_BO_WRONG_TP_TRIGGER_TYPE Details: bracket take profit order trigger type is invalid",
      type: :invalid_order
    },
    11132 => %{
      description: "TE_BO_ABORT_BOSL_DUE_BOTP_CREATE_FAILED Details: cancel bracket stop loss order due failed to create take profit order.",
      type: :invalid_order
    },
    11133 => %{
      description: "TE_BO_ABORT_BOSL_DUE_BOPO_CANCELED Details: cancel bracket stop loss order due main order canceled.",
      type: :invalid_order
    },
    11134 => %{
      description: "TE_BO_ABORT_BOTP_DUE_BOPO_CANCELED Details: cancel bracket take profit order due main order canceled.",
      type: :invalid_order
    },
    19999 => %{
      description: "REQUEST_IS_DUPLICATED Duplicated request ID",
      type: :invalid_parameters
    },
    30000 => %{
      description: "Please double check input arguments",
      type: :invalid_parameters
    },
    30018 => %{
      description: "phemex.data.size.uplimt",
      type: :invalid_parameters
    },
    34003 => %{
      description: "Access forbidden",
      type: :access_restricted
    },
    35104 => %{
      description: "phemex.spot.wallet.balance.notenough",
      type: :insufficient_balance
    },
    39995 => %{
      description: "Too many requests.",
      type: :rate_limited
    },
    39996 => %{
      description: "Access denied.",
      type: :access_restricted
    },
    39997 => %{
      description: "Symbol not listed sMOVRUSDT",
      type: :invalid_order
    },
    401 => %{
      description: "401 Failed to load API KEY.",
      type: :invalid_credentials
    },
    "401 Insufficient privilege" => %{
      description: "401 Insufficient privilege.",
      type: :access_restricted
    },
    "401 Request IP mismatch" => %{
      description: "401 Request IP mismatch.",
      type: :access_restricted
    },
    412 => %{
      description: "Missing parameter - resolution",
      type: :invalid_parameters
    },
    6001 => %{
      description: "{\"error\":{\"code\":6001,\"message\":\"invalid argument\"},\"id\":null,\"result\":null}",
      type: :invalid_parameters
    },
    "API Signature verification failed" => %{
      description: "API Signature verification failed.",
      type: :invalid_credentials
    },
    "Api key not found" => %{
      description: "Api key not found 698dc9e3-6faa-4910-9476-12857e79e198",
      type: :invalid_credentials
    },
    "Failed to find api-key" => %{
      description: "Failed to find api-key 1c5ec63fd-660d-43ea-847a-0d3ba69e106e",
      type: :invalid_credentials
    },
    "Missing required parameter" => %{
      description: "Missing required parameter",
      type: :invalid_parameters
    }
  },
  error_codes: %{
    10001 => :invalid_order,
    10002 => :order_not_found,
    10003 => :exchange_error,
    10004 => :exchange_error,
    10005 => :exchange_error,
    11001 => :insufficient_balance,
    11002 => :invalid_order,
    11003 => :insufficient_balance,
    11004 => :invalid_order,
    11005 => :insufficient_balance,
    11006 => :exchange_error,
    11007 => :exchange_error,
    11008 => :exchange_error,
    11009 => :exchange_error,
    11010 => :insufficient_balance,
    11011 => :invalid_order,
    11012 => :invalid_order,
    11013 => :invalid_order,
    11014 => :invalid_order,
    11015 => :invalid_order,
    11016 => :invalid_parameters,
    11017 => :exchange_error,
    11018 => :exchange_error,
    11019 => :exchange_error,
    11020 => :exchange_error,
    11021 => :exchange_error,
    11022 => :access_restricted,
    11023 => :exchange_error,
    11024 => :exchange_error,
    11025 => :invalid_parameters,
    11026 => :exchange_error,
    11027 => :invalid_order,
    11028 => :invalid_order,
    11029 => :exchange_error,
    11030 => :exchange_error,
    11031 => :rate_limited,
    11032 => :rate_limited,
    11033 => :invalid_order,
    11034 => :invalid_order,
    11035 => :invalid_order,
    11036 => :invalid_order,
    11037 => :invalid_order,
    11038 => :invalid_order,
    11039 => :invalid_order,
    11040 => :invalid_order,
    11041 => :invalid_order,
    11042 => :invalid_order,
    11043 => :invalid_order,
    11044 => :invalid_order,
    11045 => :invalid_order,
    11046 => :invalid_order,
    11047 => :invalid_order,
    11048 => :invalid_order,
    11049 => :invalid_order,
    11050 => :invalid_order,
    11051 => :invalid_order,
    11052 => :invalid_order,
    11053 => :invalid_order,
    11054 => :invalid_order,
    11055 => :invalid_order,
    11056 => :invalid_order,
    11057 => :invalid_order,
    11058 => :invalid_order,
    11059 => :invalid_order,
    11060 => :invalid_order,
    11061 => :exchange_error,
    11062 => :invalid_order,
    11063 => :invalid_order,
    11064 => :invalid_order,
    11065 => :invalid_order,
    11066 => :invalid_order,
    11067 => :invalid_order,
    11068 => :invalid_order,
    11069 => :exchange_error,
    11070 => :invalid_order,
    11071 => :invalid_order,
    11072 => :invalid_order,
    11073 => :invalid_order,
    11074 => :invalid_order,
    11075 => :invalid_order,
    11076 => :invalid_order,
    11077 => :invalid_order,
    11078 => :invalid_order,
    11079 => :invalid_order,
    11080 => :invalid_order,
    11081 => :invalid_order,
    11082 => :insufficient_balance,
    11083 => :invalid_order,
    11084 => :invalid_order,
    11085 => :invalid_order,
    11086 => :invalid_order,
    11087 => :invalid_order,
    11088 => :invalid_order,
    11089 => :invalid_order,
    11090 => :invalid_order,
    11091 => :invalid_order,
    11092 => :invalid_order,
    11093 => :invalid_order,
    11094 => :invalid_order,
    11095 => :invalid_order,
    11096 => :invalid_order,
    11097 => :invalid_parameters,
    11098 => :invalid_parameters,
    11099 => :exchange_error,
    11100 => :insufficient_balance,
    11101 => :insufficient_balance,
    11102 => :invalid_parameters,
    11103 => :invalid_parameters,
    11104 => :invalid_parameters,
    11105 => :insufficient_balance,
    11106 => :insufficient_balance,
    11107 => :exchange_error,
    11108 => :invalid_order,
    11109 => :invalid_order,
    11110 => :invalid_order,
    11111 => :invalid_order,
    11112 => :invalid_order,
    11113 => :invalid_parameters,
    11114 => :invalid_order,
    11115 => :invalid_order,
    11116 => :invalid_order,
    11117 => :invalid_order,
    11118 => :invalid_order,
    11119 => :invalid_order,
    11120 => :invalid_order,
    11121 => :invalid_order,
    11122 => :invalid_order,
    11123 => :invalid_order,
    11124 => :invalid_order,
    11125 => :invalid_order,
    11126 => :invalid_order,
    11128 => :invalid_order,
    11129 => :invalid_order,
    11130 => :invalid_order,
    11131 => :invalid_order,
    11132 => :invalid_order,
    11133 => :invalid_order,
    11134 => :invalid_order,
    19999 => :invalid_parameters,
    30000 => :invalid_parameters,
    30018 => :invalid_parameters,
    34003 => :access_restricted,
    35104 => :insufficient_balance,
    39995 => :rate_limited,
    39996 => :access_restricted,
    39997 => :invalid_order,
    401 => :invalid_credentials,
    "401 Insufficient privilege" => :access_restricted,
    "401 Request IP mismatch" => :access_restricted,
    412 => :invalid_parameters,
    6001 => :invalid_parameters,
    "API Signature verification failed" => :invalid_credentials,
    "Api key not found" => :invalid_credentials,
    "Failed to find api-key" => :invalid_credentials,
    "Missing required parameter" => :invalid_parameters
  },
  exceptions: %{
    broad: %{
      "401 Insufficient privilege" => :permission_denied,
      "401 Request IP mismatch" => :permission_denied,
      "API Signature verification failed" => :authentication_error,
      "Api key not found" => :authentication_error,
      "Failed to find api-key" => :authentication_error,
      "Missing required parameter" => :bad_request
    },
    exact: %{
      "10001" => :duplicate_order_id,
      "10002" => :order_not_found,
      "10003" => :cancel_pending,
      "10004" => :cancel_pending,
      "10005" => :cancel_pending,
      "11001" => :insufficient_funds,
      "11002" => :invalid_order,
      "11003" => :insufficient_funds,
      "11004" => :invalid_order,
      "11005" => :insufficient_funds,
      "11006" => :exchange_error,
      "11007" => :exchange_error,
      "11008" => :exchange_error,
      "11009" => :exchange_error,
      "11010" => :insufficient_funds,
      "11011" => :invalid_order,
      "11012" => :invalid_order,
      "11013" => :invalid_order,
      "11014" => :invalid_order,
      "11015" => :invalid_order,
      "11016" => :bad_request,
      "11017" => :exchange_error,
      "11018" => :exchange_error,
      "11019" => :exchange_error,
      "11020" => :exchange_error,
      "11021" => :exchange_error,
      "11022" => :account_suspended,
      "11023" => :exchange_error,
      "11024" => :exchange_error,
      "11025" => :bad_request,
      "11026" => :exchange_error,
      "11027" => :bad_symbol,
      "11028" => :bad_symbol,
      "11029" => :exchange_error,
      "11030" => :exchange_error,
      "11031" => :ddos_protection,
      "11032" => :ddos_protection,
      "11033" => :duplicate_order_id,
      "11034" => :invalid_order,
      "11035" => :invalid_order,
      "11036" => :invalid_order,
      "11037" => :invalid_order,
      "11038" => :invalid_order,
      "11039" => :invalid_order,
      "11040" => :invalid_order,
      "11041" => :invalid_order,
      "11042" => :invalid_order,
      "11043" => :invalid_order,
      "11044" => :invalid_order,
      "11045" => :invalid_order,
      "11046" => :invalid_order,
      "11047" => :invalid_order,
      "11048" => :invalid_order,
      "11049" => :invalid_order,
      "11050" => :invalid_order,
      "11051" => :invalid_order,
      "11052" => :invalid_order,
      "11053" => :invalid_order,
      "11054" => :invalid_order,
      "11055" => :invalid_order,
      "11056" => :invalid_order,
      "11057" => :invalid_order,
      "11058" => :invalid_order,
      "11059" => :invalid_order,
      "11060" => :invalid_order,
      "11061" => :cancel_pending,
      "11062" => :invalid_order,
      "11063" => :invalid_order,
      "11064" => :invalid_order,
      "11065" => :invalid_order,
      "11066" => :invalid_order,
      "11067" => :invalid_order,
      "11068" => :invalid_order,
      "11069" => :exchange_error,
      "11070" => :bad_symbol,
      "11071" => :invalid_order,
      "11072" => :invalid_order,
      "11073" => :invalid_order,
      "11074" => :invalid_order,
      "11075" => :invalid_order,
      "11076" => :invalid_order,
      "11077" => :invalid_order,
      "11078" => :invalid_order,
      "11079" => :invalid_order,
      "11080" => :invalid_order,
      "11081" => :invalid_order,
      "11082" => :insufficient_funds,
      "11083" => :invalid_order,
      "11084" => :invalid_order,
      "11085" => :duplicate_order_id,
      "11086" => :invalid_order,
      "11087" => :invalid_order,
      "11088" => :invalid_order,
      "11089" => :invalid_order,
      "11090" => :invalid_order,
      "11091" => :invalid_order,
      "11092" => :invalid_order,
      "11093" => :invalid_order,
      "11094" => :invalid_order,
      "11095" => :invalid_order,
      "11096" => :invalid_order,
      "11097" => :bad_request,
      "11098" => :bad_request,
      "11099" => :exchange_error,
      "11100" => :insufficient_funds,
      "11101" => :insufficient_funds,
      "11102" => :bad_request,
      "11103" => :bad_request,
      "11104" => :bad_request,
      "11105" => :insufficient_funds,
      "11106" => :insufficient_funds,
      "11107" => :exchange_error,
      "11108" => :invalid_order,
      "11109" => :invalid_order,
      "11110" => :invalid_order,
      "11111" => :invalid_order,
      "11112" => :invalid_order,
      "11113" => :bad_request,
      "11114" => :invalid_order,
      "11115" => :invalid_order,
      "11116" => :invalid_order,
      "11117" => :invalid_order,
      "11118" => :invalid_order,
      "11119" => :invalid_order,
      "11120" => :invalid_order,
      "11121" => :invalid_order,
      "11122" => :invalid_order,
      "11123" => :invalid_order,
      "11124" => :invalid_order,
      "11125" => :invalid_order,
      "11126" => :invalid_order,
      "11128" => :invalid_order,
      "11129" => :invalid_order,
      "11130" => :invalid_order,
      "11131" => :invalid_order,
      "11132" => :invalid_order,
      "11133" => :invalid_order,
      "11134" => :invalid_order,
      "19999" => :bad_request,
      "30000" => :bad_request,
      "30018" => :bad_request,
      "34003" => :permission_denied,
      "35104" => :insufficient_funds,
      "39995" => :rate_limit_exceeded,
      "39996" => :permission_denied,
      "39997" => :bad_symbol,
      "401" => :authentication_error,
      "412" => :bad_request,
      "6001" => :bad_request
    }
  },
  exchange_options: %{
    "accountsByType" => %{
      "spot" => "spot",
      "swap" => "future"
    },
    "brokerId" => "CCXT123456",
    "createOrderByQuoteRequiresPrice" => true,
    "defaultNetworkCodeReplacements" => %{
      "BRC20" => %{
        "BRC20" => "BTC"
      },
      "CRO" => %{
        "CRC20" => "CRONOS"
      },
      "ETH" => %{
        "ERC20" => "ETH"
      },
      "TRX" => %{
        "TRC20" => "TRX"
      }
    },
    "defaultNetworks" => %{
      "MKR" => "ETH",
      "USDT" => "ETH"
    },
    "defaultSubType" => "linear",
    "networks" => %{
      "BEP20" => "BNB",
      "ERC20" => "ETH",
      "TRC20" => "TRX"
    },
    "networksById" => %{
      "BNB" => "BEP20",
      "ETH" => "ERC20",
      "TRX" => "TRC20"
    },
    "stableCoins" => [
      "BUSD",
      "FEI",
      "TUSD",
      "USD",
      "USDC",
      "USDD",
      "USDP",
      "USDT"
    ],
    "transfer" => %{
      "fillResponseFromRequest" => true
    },
    "triggerPriceTypesMap" => %{
      "ask" => "ByAskPrice",
      "bid" => "ByBidPrice",
      "index" => "ByIndexPrice",
      "last" => "ByLastPrice",
      "mark" => "ByMarkPrice"
    },
    "x-phemex-request-expiry" => 60
  },
  extended_metadata: %{
    fees_url: "https://phemex.com/fees-conditions",
    limits: %{
      "amount" => %{},
      "cost" => %{},
      "leverage" => %{},
      "price" => %{}
    },
    logo_url: "https://user-images.githubusercontent.com/1294454/85225056-221eb600-b3d7-11ea-930d-564d2690e3f6.jpg",
    referral_discount: 0.1,
    referral_url: "https://phemex.com/register?referralCode=EDNVJ"
  },
  extracted_metadata: %{
    ccxt_version: "4.5.34"
  },
  features: %{
    default: %{
      create_order: %{
        hedged: false,
        iceberg: false,
        leverage: false,
        margin_mode: false,
        market_buy_by_cost: true,
        market_buy_requires_price: false,
        self_trade_prevention: false,
        stop_loss_price: false,
        take_profit_price: false,
        time_in_force: %{
          fok: true,
          gtd: false,
          ioc: true,
          po: true
        },
        trailing: false,
        trigger_direction: false,
        trigger_price: true,
        trigger_price_type: %{
          index: true,
          last: true,
          mark: true
        }
      },
      fetch_closed_orders: %{
        days_back: 100000,
        days_back_canceled: 100000,
        limit: 200,
        margin_mode: false,
        symbol_required: false,
        trailing: false,
        trigger: false,
        until_days: 2
      },
      fetch_my_trades: %{
        days_back: 100000,
        limit: 200,
        margin_mode: false,
        symbol_required: false,
        until_days: 2
      },
      fetch_ohlcv: %{
        limit: 1000
      },
      fetch_open_orders: %{
        margin_mode: false,
        symbol_required: true,
        trailing: false,
        trigger: false
      },
      fetch_order: %{
        margin_mode: false,
        symbol_required: true,
        trailing: false,
        trigger: false
      },
      fetch_orders: %{
        margin_mode: false,
        symbol_required: true,
        trailing: false,
        trigger: false
      },
      sandbox: true
    },
    for_derivatives: %{
      create_order: %{
        attached_stop_loss_take_profit: %{
          price: true,
          trigger_price_type: %{
            index: true,
            last: true,
            mark: true
          }
        },
        hedged: true,
        trigger_direction: true
      },
      extends: "default",
      fetch_ohlcv: %{
        limit: 2000
      }
    },
    future: %{},
    spot: %{
      extends: "default"
    },
    swap: %{
      inverse: %{
        extends: "forDerivatives"
      },
      linear: %{
        extends: "forDerivatives"
      }
    }
  },
  fees: %{
    trading: %{
      maker: 0.001,
      percentage: true,
      taker: 0.001,
      tier_based: false
    }
  },
  handle_content_type_application_zip: nil,
  handle_errors_source: "handleErrors(httpCode, reason, url, method, headers, body, response, requestHeaders, requestBody) {\n        if (response === undefined) {\n            return undefined; // fallback to default error handler\n        }\n        //\n        //     {\"code\":30018,\"msg\":\"phemex.data.size.uplimt\",\"data\":null}\n        //     {\"code\":412,\"msg\":\"Missing parameter - resolution\",\"data\":null}\n        //     {\"code\":412,\"msg\":\"Missing parameter - to\",\"data\":null}\n        //     {\"error\":{\"code\":6001,\"message\":\"invalid argument\"},\"id\":null,\"result\":null}\n        //\n        const error = this.safeValue(response, 'error', response);\n        const errorCode = this.safeString(error, 'code');\n        const message = this.safeString(error, 'msg');\n        if ((errorCode !== undefined) && (errorCode !== '0')) {\n            const feedback = this.id + ' ' + body;\n            this.throwExactlyMatchedException(this.exceptions['exact'], errorCode, feedback);\n            this.throwBroadlyMatchedException(this.exceptions['broad'], message, feedback);\n            throw new errors.ExchangeError(feedback); // unknown message\n        }\n        return undefined;\n    }",
  has: %{
    add_margin: false,
    borrow_cross_margin: false,
    borrow_isolated_margin: false,
    borrow_margin: false,
    c_o_r_s: false,
    cancel_all_orders: true,
    cancel_all_orders_ws: false,
    cancel_order: true,
    cancel_order_with_client_order_id: false,
    cancel_order_ws: false,
    cancel_orders: false,
    cancel_orders_with_client_order_id: false,
    cancel_orders_ws: false,
    close_all_positions: false,
    close_position: false,
    create_convert_trade: true,
    create_deposit_address: false,
    create_limit_buy_order: false,
    create_limit_buy_order_ws: false,
    create_limit_order: true,
    create_limit_order_ws: false,
    create_limit_sell_order: false,
    create_limit_sell_order_ws: false,
    create_market_buy_order: false,
    create_market_buy_order_with_cost: false,
    create_market_buy_order_with_cost_ws: false,
    create_market_buy_order_ws: false,
    create_market_order: true,
    create_market_order_with_cost: false,
    create_market_order_with_cost_ws: false,
    create_market_order_ws: true,
    create_market_sell_order: false,
    create_market_sell_order_with_cost: false,
    create_market_sell_order_with_cost_ws: false,
    create_market_sell_order_ws: false,
    create_order: true,
    create_order_with_take_profit_and_stop_loss: false,
    create_order_with_take_profit_and_stop_loss_ws: false,
    create_order_ws: false,
    create_orders: false,
    create_post_only_order: false,
    create_post_only_order_ws: false,
    create_reduce_only_order: true,
    create_reduce_only_order_ws: false,
    create_stop_limit_order: true,
    create_stop_limit_order_ws: false,
    create_stop_loss_order: false,
    create_stop_loss_order_ws: false,
    create_stop_market_order: true,
    create_stop_market_order_ws: false,
    create_stop_order: true,
    create_stop_order_ws: false,
    create_take_profit_order: false,
    create_take_profit_order_ws: false,
    create_trailing_amount_order: false,
    create_trailing_amount_order_ws: false,
    create_trailing_percent_order: false,
    create_trailing_percent_order_ws: false,
    create_trigger_order: false,
    create_trigger_order_ws: false,
    deposit: false,
    edit_order: true,
    edit_order_with_client_order_id: false,
    edit_order_ws: false,
    edit_orders: false,
    fetch_accounts: false,
    fetch_balance: true,
    fetch_balance_ws: false,
    fetch_bids_asks: false,
    fetch_borrow_interest: false,
    fetch_borrow_rate: false,
    fetch_borrow_rate_histories: false,
    fetch_borrow_rate_history: false,
    fetch_borrow_rates: false,
    fetch_borrow_rates_per_symbol: false,
    fetch_canceled_and_closed_orders: false,
    fetch_canceled_orders: false,
    fetch_closed_order: false,
    fetch_closed_orders: true,
    fetch_closed_orders_ws: false,
    fetch_convert_currencies: false,
    fetch_convert_quote: true,
    fetch_convert_trade: false,
    fetch_convert_trade_history: true,
    fetch_cross_borrow_rate: false,
    fetch_cross_borrow_rates: false,
    fetch_currencies: true,
    fetch_currencies_ws: true,
    fetch_deposit: false,
    fetch_deposit_address: true,
    fetch_deposit_addresses: false,
    fetch_deposit_addresses_by_network: false,
    fetch_deposit_withdraw_fee: false,
    fetch_deposit_withdraw_fees: false,
    fetch_deposits: true,
    fetch_deposits_withdrawals: false,
    fetch_deposits_ws: false,
    fetch_funding_history: true,
    fetch_funding_interval: false,
    fetch_funding_intervals: false,
    fetch_funding_rate: true,
    fetch_funding_rate_histories: false,
    fetch_funding_rate_history: true,
    fetch_funding_rates: false,
    fetch_greeks: false,
    fetch_index_ohlcv: false,
    fetch_isolated_borrow_rate: false,
    fetch_isolated_borrow_rates: false,
    fetch_isolated_positions: false,
    fetch_l2_order_book: true,
    fetch_l3_order_book: false,
    fetch_last_prices: false,
    fetch_ledger: false,
    fetch_ledger_entry: false,
    fetch_leverage: false,
    fetch_leverage_tiers: true,
    fetch_leverages: false,
    fetch_liquidations: false,
    fetch_long_short_ratio: false,
    fetch_long_short_ratio_history: false,
    fetch_margin_adjustment_history: false,
    fetch_margin_mode: false,
    fetch_margin_modes: false,
    fetch_mark_ohlcv: false,
    fetch_mark_prices: false,
    fetch_market_leverage_tiers: true,
    fetch_markets: true,
    fetch_markets_ws: false,
    fetch_my_liquidations: false,
    fetch_my_settlement_history: false,
    fetch_my_trades: true,
    fetch_my_trades_ws: false,
    fetch_ohlcv: true,
    fetch_ohlcv_ws: false,
    fetch_open_interest: true,
    fetch_open_interest_history: false,
    fetch_open_interests: false,
    fetch_open_order: false,
    fetch_open_orders: true,
    fetch_open_orders_ws: false,
    fetch_option: false,
    fetch_option_chain: false,
    fetch_order: true,
    fetch_order_book: true,
    fetch_order_book_ws: false,
    fetch_order_books: false,
    fetch_order_trades: false,
    fetch_order_with_client_order_id: false,
    fetch_order_ws: false,
    fetch_orders: true,
    fetch_orders_by_status: false,
    fetch_orders_ws: false,
    fetch_position: false,
    fetch_position_history: false,
    fetch_position_mode: false,
    fetch_position_ws: false,
    fetch_positions: true,
    fetch_positions_for_symbol: false,
    fetch_positions_for_symbol_ws: false,
    fetch_positions_history: false,
    fetch_positions_risk: false,
    fetch_positions_ws: false,
    fetch_premium_index_ohlcv: false,
    fetch_settlement_history: false,
    fetch_status: false,
    fetch_ticker: true,
    fetch_ticker_ws: false,
    fetch_tickers: true,
    fetch_tickers_ws: false,
    fetch_time: false,
    fetch_trades: true,
    fetch_trades_ws: false,
    fetch_trading_fee: false,
    fetch_trading_fees: false,
    fetch_trading_fees_ws: false,
    fetch_trading_limits: false,
    fetch_transaction_fee: false,
    fetch_transaction_fees: false,
    fetch_transactions: false,
    fetch_transfer: false,
    fetch_transfers: true,
    fetch_underlying_assets: false,
    fetch_volatility_history: false,
    fetch_withdraw_addresses: false,
    fetch_withdrawal: false,
    fetch_withdrawal_whitelist: false,
    fetch_withdrawals: true,
    fetch_withdrawals_ws: false,
    future: false,
    margin: false,
    option: false,
    private_api: true,
    public_api: true,
    reduce_margin: false,
    repay_cross_margin: false,
    repay_isolated_margin: false,
    sandbox: true,
    set_leverage: true,
    set_margin: true,
    set_margin_mode: true,
    set_position_mode: true,
    sign_in: false,
    spot: true,
    swap: true,
    transfer: true,
    un_watch_my_trades: false,
    un_watch_ohlcv: false,
    un_watch_ohlcv_for_symbols: false,
    un_watch_order_book: false,
    un_watch_order_book_for_symbols: false,
    un_watch_orders: false,
    un_watch_positions: false,
    un_watch_ticker: false,
    un_watch_tickers: false,
    un_watch_trades: false,
    un_watch_trades_for_symbols: false,
    watch_balance: true,
    watch_bids_asks: false,
    watch_liquidations: false,
    watch_liquidations_for_symbols: false,
    watch_my_liquidations: false,
    watch_my_liquidations_for_symbols: false,
    watch_my_trades: true,
    watch_ohlcv: true,
    watch_ohlcv_for_symbols: false,
    watch_order_book: true,
    watch_order_book_for_symbols: false,
    watch_orders: true,
    watch_orders_for_symbols: false,
    watch_position: false,
    watch_positions: false,
    watch_status: false,
    watch_ticker: true,
    watch_tickers: true,
    watch_trades: true,
    watch_trades_for_symbols: false,
    withdraw: true,
    ws: false
  },
  http_config: nil,
  id: "phemex",
  markets: nil,
  name: "Phemex",
  ohlcv_timestamp_resolution: :unknown,
  options: %{
    accounts_by_type: %{
      "spot" => "spot",
      "swap" => "future"
    },
    broker_id: "CCXT123456",
    create_order_by_quote_requires_price: true,
    default_networks: %{
      "MKR" => "ETH",
      "USDT" => "ETH"
    },
    default_sub_type: "linear",
    networks: %{
      "BEP20" => "BNB",
      "ERC20" => "ETH",
      "TRC20" => "TRX"
    },
    stable_coins: [
      "BUSD",
      "FEI",
      "TUSD",
      "USD",
      "USDC",
      "USDD",
      "USDP",
      "USDT"
    ],
    transfer: %{
      "fillResponseFromRequest" => true
    },
    trigger_price_types_map: %{
      "ask" => "ByAskPrice",
      "bid" => "ByBidPrice",
      "index" => "ByIndexPrice",
      "last" => "ByLastPrice",
      "mark" => "ByMarkPrice"
    },
    "x-phemex-request-expiry": 60
  },
  order_mappings: %{
    side_format: :capitalize,
    side_key: "side",
    type_format: :capitalize,
    type_key: "ordType"
  },
  param_mappings: %{
    "amount" => "orderQtyRq",
    "code" => "currency",
    "fromCode" => "fromCurrency",
    "id" => "orderID",
    "leverage" => "leverageRr",
    "price" => "priceRp",
    "timeframe" => "resolution",
    "toCode" => "toCurrency",
    "triggerPrice" => "stopPxRp",
    "type" => "ordType"
  },
  parse_methods: [
    %{
      "comment" => nil,
      "examples" => [
        "{\n         \"code\": \"GIF...AAA\",\n         \"quoteArgs\": {\n             \"origin\": 10,\n             \"price\": \"0.00000939\",\n             \"proceeds\": \"0.00000000\",\n             \"ttlMs\": 7000,\n             \"expireAt\": 1739875826009,\n             \"requestAt\": 1739875818009,\n             \"quoteAt\": 1739875816594\n         }\n     }",
        "{\n         \"moveOp\": 0,\n         \"fromCurrency\": \"USDT\",\n         \"toCurrency\": \"BTC\",\n         \"fromAmountEv\": 4000000000,\n         \"toAmountEv\": 41511,\n         \"linkKey\": \"45c8ed8e-d3f4-472d-8262-e464e8c46247\",\n         \"status\": 10\n     }",
        "{\n         \"linkKey\": \"45c8ed8e-d3f4-472d-8262-e464e8c46247\",\n         \"createTime\": 1739882294000,\n         \"fromCurrency\": \"USDT\",\n         \"toCurrency\": \"BTC\",\n         \"fromAmountEv\": 4000000000,\n         \"toAmountEv\": 41511,\n         \"status\": 10,\n         \"conversionRate\": 1037,\n         \"errorCode\": 0\n     }"
      ],
      "line_end" => 5308,
      "line_start" => 5236,
      "mappings" => [
        %{
          "comment" => nil,
          "key" => "info",
          "value" => "conversion"
        },
        %{
          "comment" => nil,
          "key" => "timestamp",
          "value" => "timestamp"
        },
        %{
          "comment" => nil,
          "key" => "datetime",
          "value" => "this.iso8601 (timestamp)"
        },
        %{
          "comment" => nil,
          "key" => "id",
          "value" => "this.safeString (conversion, 'code')"
        },
        %{
          "comment" => nil,
          "key" => "fromCurrency",
          "value" => "fromCode"
        },
        %{
          "comment" => nil,
          "key" => "fromAmount",
          "value" => "this.parseNumber (fromAmount)"
        },
        %{
          "comment" => nil,
          "key" => "toCurrency",
          "value" => "toCode"
        },
        %{
          "comment" => nil,
          "key" => "toAmount",
          "value" => "this.parseNumber (toAmount)"
        },
        %{
          "comment" => nil,
          "key" => "price",
          "value" => "this.safeNumber (quoteArgs, 'price')"
        },
        %{
          "comment" => nil,
          "key" => "fee",
          "value" => "undefined"
        }
      ],
      "name" => "parseConversion",
      "signature" => "parseConversion (conversion: Dict, fromCurrency: Currency = undefined, toCurrency: Currency = undefined): Conversion",
      "source" => "parseConversion (conversion: Dict, fromCurrency: Currency = undefined, toCurrency: Currency = undefined): Conversion {\n        //\n        // fetchConvertQuote\n        //\n        //     {\n        //         \"code\": \"GIF...AAA\",\n        //         \"quoteArgs\": {\n        //             \"origin\": 10,\n        //             \"price\": \"0.00000939\",\n        //             \"proceeds\": \"0.00000000\",\n        //             \"ttlMs\": 7000,\n        //             \"expireAt\": 1739875826009,\n        //             \"requestAt\": 1739875818009,\n        //             \"quoteAt\": 1739875816594\n        //         }\n        //     }\n        //\n        // createConvertTrade\n        //\n        //     {\n        //         \"moveOp\": 0,\n        //         \"fromCurrency\": \"USDT\",\n        //         \"toCurrency\": \"BTC\",\n        //         \"fromAmountEv\": 4000000000,\n        //         \"toAmountEv\": 41511,\n        //         \"linkKey\": \"45c8ed8e-d3f4-472d-8262-e464e8c46247\",\n        //         \"status\": 10\n        //     }\n        //\n        // fetchConvertTradeHistory\n        //\n        //     {\n        //         \"linkKey\": \"45c8ed8e-d3f4-472d-8262-e464e8c46247\",\n        //         \"createTime\": 1739882294000,\n        //         \"fromCurrency\": \"USDT\",\n        //         \"toCurrency\": \"BTC\",\n        //         \"fromAmountEv\": 4000000000,\n        //         \"toAmountEv\": 41511,\n        //         \"status\": 10,\n        //         \"conversionRate\": 1037,\n        //         \"errorCode\": 0\n        //     }\n        //\n        const quoteArgs = this.safeDict (conversion, 'quoteArgs', {});\n        const requestTime = this.safeInteger (quoteArgs, 'requestAt');\n        const timestamp = this.safeInteger (conversion, 'createTime', requestTime);\n        const fromCoin = this.safeString (conversion, 'fromCurrency', this.safeString (fromCurrency, 'code'));\n        const fromCode = this.safeCurrencyCode (fromCoin, fromCurrency);\n        const toCoin = this.safeString (conversion, 'toCurrency', this.safeString (toCurrency, 'code'));\n        const toCode = this.safeCurrencyCode (toCoin, toCurrency);\n        const fromValueScale = this.safeInteger (fromCurrency, 'valueScale');\n        const toValueScale = this.safeInteger (toCurrency, 'valueScale');\n        let fromAmount = this.fromEn (this.safeString (conversion, 'fromAmountEv'), fromValueScale);\n        if (fromAmount === undefined && quoteArgs !== undefined) {\n            fromAmount = this.fromEn (this.safeString (quoteArgs, 'origin'), fromValueScale);\n        }\n        let toAmount = this.fromEn (this.safeString (conversion, 'toAmountEv'), toValueScale);\n        if (toAmount === undefined && quoteArgs !== undefined) {\n            toAmount = this.fromEn (this.safeString (quoteArgs, 'proceeds'), toValueScale);\n        }\n        return {\n            'info': conversion,\n            'timestamp': timestamp,\n            'datetime': this.iso8601 (timestamp),\n            'id': this.safeString (conversion, 'code'),\n            'fromCurrency': fromCode,\n            'fromAmount': this.parseNumber (fromAmount),\n            'toCurrency': toCode,\n            'toAmount': this.parseNumber (toAmount),\n            'price': this.safeNumber (quoteArgs, 'price'),\n            'fee': undefined,\n        } as Conversion;\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [],
      "line_end" => 4165,
      "line_start" => 4152,
      "mappings" => [],
      "name" => "parseFundingFeeToPrecision",
      "signature" => "parseFundingFeeToPrecision (value, market: Market = undefined, currencyCode: Str = undefined)",
      "source" => "parseFundingFeeToPrecision (value, market: Market = undefined, currencyCode: Str = undefined) {\n        if (value === undefined || currencyCode === undefined) {\n            return value;\n        }\n        // it was confirmed by phemex support, that USDT contracts use direct amounts in funding fees, while USD & INVERSE needs 'valueScale'\n        const isStableSettled = market['settle'] === 'USDT' || market['settle'] === 'USDC';\n        if (!isStableSettled) {\n            const currency = this.safeCurrency (currencyCode);\n            const scale = this.safeString (currency['info'], 'valueScale');\n            const tickPrecision = this.parsePrecision (scale);\n            value = Precise.stringMul (value, tickPrecision);\n        }\n        return value;\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [
        "{\n         \"askEp\": 2332500,\n         \"bidEp\": 2331000,\n         \"fundingRateEr\": 10000,\n         \"highEp\": 2380000,\n         \"indexEp\": 2329057,\n         \"lastEp\": 2331500,\n         \"lowEp\": 2274000,\n         \"markEp\": 2329232,\n         \"openEp\": 2337500,\n         \"openInterest\": 1298050,\n         \"predFundingRateEr\": 19921,\n         \"symbol\": \"ETHUSD\",\n         \"timestamp\": 1592474241582701416,\n         \"turnoverEv\": 47228362330,\n         \"volume\": 4053863\n     }",
        "{\n         \"closeRp\":\"16820.5\",\n         \"fundingRateRr\":\"0.0001\",\n         \"highRp\":\"16962.1\",\n         \"indexPriceRp\":\"16830.15651565\",\n         \"lowRp\":\"16785\",\n         \"markPriceRp\":\"16830.97534951\",\n         \"openInterestRv\":\"1323.596\",\n         \"openRp\":\"16851.7\",\n         \"predFundingRateRr\":\"0.0001\",\n         \"symbol\":\"BTCUSDT\",\n         \"timestamp\":\"1672142789065593096\",\n         \"turnoverRv\":\"124835296.0538\",\n         \"volumeRq\":\"7406.95\"\n     }"
      ],
      "line_end" => 4282,
      "line_start" => 4217,
      "mappings" => [
        %{
          "comment" => nil,
          "key" => "info",
          "value" => "contract"
        },
        %{
          "comment" => nil,
          "key" => "symbol",
          "value" => "symbol"
        },
        %{
          "comment" => nil,
          "key" => "markPrice",
          "value" => "this.safeNumber (contract, 'markPriceRp', markEp)"
        },
        %{
          "comment" => nil,
          "key" => "indexPrice",
          "value" => "this.safeNumber (contract, 'indexPriceRp', indexEp)"
        },
        %{
          "comment" => nil,
          "key" => "interestRate",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "estimatedSettlePrice",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "timestamp",
          "value" => "timestamp"
        },
        %{
          "comment" => nil,
          "key" => "datetime",
          "value" => "this.iso8601 (timestamp)"
        },
        %{
          "comment" => nil,
          "key" => "fundingRate",
          "value" => "this.safeNumber (contract, 'fundingRateRr', fundingRateEr)"
        },
        %{
          "comment" => nil,
          "key" => "fundingTimestamp",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "fundingDatetime",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "nextFundingRate",
          "value" => "this.safeNumber (contract, 'predFundingRateRr', nextFundingRateEr)"
        },
        %{
          "comment" => nil,
          "key" => "nextFundingTimestamp",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "nextFundingDatetime",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "previousFundingRate",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "previousFundingTimestamp",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "previousFundingDatetime",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "interval",
          "value" => "undefined"
        }
      ],
      "name" => "parseFundingRate",
      "signature" => "parseFundingRate (contract, market: Market = undefined): FundingRate",
      "source" => "parseFundingRate (contract, market: Market = undefined): FundingRate {\n        //\n        //     {\n        //         \"askEp\": 2332500,\n        //         \"bidEp\": 2331000,\n        //         \"fundingRateEr\": 10000,\n        //         \"highEp\": 2380000,\n        //         \"indexEp\": 2329057,\n        //         \"lastEp\": 2331500,\n        //         \"lowEp\": 2274000,\n        //         \"markEp\": 2329232,\n        //         \"openEp\": 2337500,\n        //         \"openInterest\": 1298050,\n        //         \"predFundingRateEr\": 19921,\n        //         \"symbol\": \"ETHUSD\",\n        //         \"timestamp\": 1592474241582701416,\n        //         \"turnoverEv\": 47228362330,\n        //         \"volume\": 4053863\n        //     }\n        //\n        // linear swap v2\n        //\n        //     {\n        //         \"closeRp\":\"16820.5\",\n        //         \"fundingRateRr\":\"0.0001\",\n        //         \"highRp\":\"16962.1\",\n        //         \"indexPriceRp\":\"16830.15651565\",\n        //         \"lowRp\":\"16785\",\n        //         \"markPriceRp\":\"16830.97534951\",\n        //         \"openInterestRv\":\"1323.596\",\n        //         \"openRp\":\"16851.7\",\n        //         \"predFundingRateRr\":\"0.0001\",\n        //         \"symbol\":\"BTCUSDT\",\n        //         \"timestamp\":\"1672142789065593096\",\n        //         \"turnoverRv\":\"124835296.0538\",\n        //         \"volumeRq\":\"7406.95\"\n        //     }\n        //\n        const marketId = this.safeString (contract, 'symbol');\n        const symbol = this.safeSymbol (marketId, market);\n        const timestamp = this.safeIntegerProduct (contract, 'timestamp', 0.000001);\n        const markEp = this.fromEp (this.safeString (contract, 'markEp'), market);\n        const indexEp = this.fromEp (this.safeString (contract, 'indexEp'), market);\n        const fundingRateEr = this.fromEr (this.safeString (contract, 'fundingRateEr'), market);\n        const nextFundingRateEr = this.fromEr (this.safeString (contract, 'predFundingRateEr'), market);\n        return {\n            'info': contract,\n            'symbol': symbol,\n            'markPrice': this.safeNumber (contract, 'markPriceRp', markEp),\n            'indexPrice': this.safeNumber (contract, 'indexPriceRp', indexEp),\n            'interestRate': undefined,\n            'estimatedSettlePrice': undefined,\n            'timestamp': timestamp,\n            'datetime': this.iso8601 (timestamp),\n            'fundingRate': this.safeNumber (contract, 'fundingRateRr', fundingRateEr),\n            'fundingTimestamp': undefined,\n            'fundingDatetime': undefined,\n            'nextFundingRate': this.safeNumber (contract, 'predFundingRateRr', nextFundingRateEr),\n            'nextFundingTimestamp': undefined,\n            'nextFundingDatetime': undefined,\n            'previousFundingRate': undefined,\n            'previousFundingTimestamp': undefined,\n            'previousFundingDatetime': undefined,\n            'interval': undefined,\n        } as FundingRate;\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [
        "{\n         \"code\": 0,\n         \"msg\": \"\",\n         \"data\": \"OK\"\n     }"
      ],
      "line_end" => 4344,
      "line_start" => 4321,
      "mappings" => [
        %{
          "comment" => nil,
          "key" => "info",
          "value" => "data"
        },
        %{
          "comment" => nil,
          "key" => "symbol",
          "value" => "this.safeSymbol (undefined, market)"
        },
        %{
          "comment" => nil,
          "key" => "type",
          "value" => "'set'"
        },
        %{
          "comment" => nil,
          "key" => "marginMode",
          "value" => "'isolated'"
        },
        %{
          "comment" => nil,
          "key" => "amount",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "total",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "code",
          "value" => "market[codeCurrency]"
        },
        %{
          "comment" => nil,
          "key" => "status",
          "value" => "this.parseMarginStatus (this.safeString (data, 'code'))"
        },
        %{
          "comment" => nil,
          "key" => "timestamp",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "datetime",
          "value" => "undefined"
        }
      ],
      "name" => "parseMarginModification",
      "signature" => "parseMarginModification (data: Dict, market: Market = undefined): MarginModification",
      "source" => "parseMarginModification (data: Dict, market: Market = undefined): MarginModification {\n        //\n        //     {\n        //         \"code\": 0,\n        //         \"msg\": \"\",\n        //         \"data\": \"OK\"\n        //     }\n        //\n        market = this.safeMarket (undefined, market);\n        const inverse = this.safeValue (market, 'inverse');\n        const codeCurrency = inverse ? 'base' : 'quote';\n        return {\n            'info': data,\n            'symbol': this.safeSymbol (undefined, market),\n            'type': 'set',\n            'marginMode': 'isolated',\n            'amount': undefined,\n            'total': undefined,\n            'code': market[codeCurrency],\n            'status': this.parseMarginStatus (this.safeString (data, 'code')),\n            'timestamp': undefined,\n            'datetime': undefined,\n        };\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [],
      "line_end" => 4319,
      "line_start" => 4314,
      "mappings" => [],
      "name" => "parseMarginStatus",
      "signature" => "parseMarginStatus (status)",
      "source" => "parseMarginStatus (status) {\n        const statuses: Dict = {\n            '0': 'ok',\n        };\n        return this.safeString (statuses, status, status);\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [
        "@param {object} info Exchange market response for 1 market",
        "@param {object} market CCXT market",
        "{\n         \"symbol\":\"BTCUSD\",\n         \"steps\":\"50\",\n         \"riskLimits\":[\n             {\"limit\":100,\"initialMargin\":\"1.0%\",\"initialMarginEr\":1000000,\"maintenanceMargin\":\"0.5%\",\"maintenanceMarginEr\":500000},\n             {\"limit\":150,\"initialMargin\":\"1.5%\",\"initialMarginEr\":1500000,\"maintenanceMargin\":\"1.0%\",\"maintenanceMarginEr\":1000000},\n             {\"limit\":200,\"initialMargin\":\"2.0%\",\"initialMarginEr\":2000000,\"maintenanceMargin\":\"1.5%\",\"maintenanceMarginEr\":1500000},\n         ]\n     },"
      ],
      "line_end" => 4558,
      "line_start" => 4521,
      "mappings" => [
        %{
          "comment" => nil,
          "key" => "tier",
          "value" => "this.sum (i, 1)"
        },
        %{
          "comment" => nil,
          "key" => "symbol",
          "value" => "this.safeSymbol (marketId, market)"
        },
        %{
          "comment" => nil,
          "key" => "currency",
          "value" => "market['settle']"
        },
        %{
          "comment" => nil,
          "key" => "minNotional",
          "value" => "minNotional"
        },
        %{
          "comment" => nil,
          "key" => "maxNotional",
          "value" => "maxNotional"
        },
        %{
          "comment" => nil,
          "key" => "maintenanceMarginRate",
          "value" => "this.safeString (tier, 'maintenanceMargin')"
        },
        %{
          "comment" => nil,
          "key" => "maxLeverage",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "info",
          "value" => "tier"
        }
      ],
      "name" => "parseMarketLeverageTiers",
      "signature" => "parseMarketLeverageTiers (info, market: Market = undefined): LeverageTier[]",
      "source" => "parseMarketLeverageTiers (info, market: Market = undefined): LeverageTier[] {\n        /**\n         * @param {object} info Exchange market response for 1 market\n         * @param {object} market CCXT market\n         */\n        //\n        //     {\n        //         \"symbol\":\"BTCUSD\",\n        //         \"steps\":\"50\",\n        //         \"riskLimits\":[\n        //             {\"limit\":100,\"initialMargin\":\"1.0%\",\"initialMarginEr\":1000000,\"maintenanceMargin\":\"0.5%\",\"maintenanceMarginEr\":500000},\n        //             {\"limit\":150,\"initialMargin\":\"1.5%\",\"initialMarginEr\":1500000,\"maintenanceMargin\":\"1.0%\",\"maintenanceMarginEr\":1000000},\n        //             {\"limit\":200,\"initialMargin\":\"2.0%\",\"initialMarginEr\":2000000,\"maintenanceMargin\":\"1.5%\",\"maintenanceMarginEr\":1500000},\n        //         ]\n        //     },\n        //\n        const marketId = this.safeString (info, 'symbol');\n        market = this.safeMarket (marketId, market);\n        const riskLimits = (market['info']['riskLimits']);\n        const tiers = [];\n        let minNotional = 0;\n        for (let i = 0; i < riskLimits.length; i++) {\n            const tier = riskLimits[i];\n            const maxNotional = this.safeInteger (tier, 'limit');\n            tiers.push ({\n                'tier': this.sum (i, 1),\n                'symbol': this.safeSymbol (marketId, market),\n                'currency': market['settle'],\n                'minNotional': minNotional,\n                'maxNotional': maxNotional,\n                'maintenanceMarginRate': this.safeString (tier, 'maintenanceMargin'),\n                'maxLeverage': undefined,\n                'info': tier,\n            });\n            minNotional = maxNotional;\n        }\n        return tiers as LeverageTier[];\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [
        "[\n         1592467200, // timestamp\n         300, // interval\n         23376000000, // last\n         23322000000, // open\n         23381000000, // high\n         23315000000, // low\n         23367000000, // close\n         208671000, // base volume\n         48759063370, // quote volume\n     ]"
      ],
      "line_end" => 1356,
      "line_start" => 1328,
      "mappings" => [],
      "name" => "parseOHLCV",
      "signature" => "parseOHLCV (ohlcv, market: Market = undefined): OHLCV",
      "source" => "parseOHLCV (ohlcv, market: Market = undefined): OHLCV {\n        //\n        //     [\n        //         1592467200, // timestamp\n        //         300, // interval\n        //         23376000000, // last\n        //         23322000000, // open\n        //         23381000000, // high\n        //         23315000000, // low\n        //         23367000000, // close\n        //         208671000, // base volume\n        //         48759063370, // quote volume\n        //     ]\n        //\n        let baseVolume: Num;\n        if ((market !== undefined) && market['spot']) {\n            baseVolume = this.parseNumber (this.fromEv (this.safeString (ohlcv, 7), market));\n        } else {\n            baseVolume = this.safeNumber (ohlcv, 7);\n        }\n        return [\n            this.safeTimestamp (ohlcv, 0),\n            this.parseNumber (this.fromEp (this.safeString (ohlcv, 3), market)),\n            this.parseNumber (this.fromEp (this.safeString (ohlcv, 4), market)),\n            this.parseNumber (this.fromEp (this.safeString (ohlcv, 5), market)),\n            this.parseNumber (this.fromEp (this.safeString (ohlcv, 6), market)),\n            baseVolume,\n        ];\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [
        "{\n        closeRp: '67550.1',\n        fundingRateRr: '0.0001',\n        highRp: '68400',\n        indexPriceRp: '67567.15389794',\n        lowRp: '66096.4',\n        markPriceRp: '67550.1',\n        openInterestRv: '1848.1144186',\n        openRp: '66330',\n        predFundingRateRr: '0.0001',\n        symbol: 'BTCUSDT',\n        timestamp: '1729114315443343001',\n        turnoverRv: '228863389.3237532',\n        volumeRq: '3388.5600312'\n    }"
      ],
      "line_end" => 5086,
      "line_start" => 5056,
      "mappings" => [
        %{
          "comment" => nil,
          "key" => "info",
          "value" => "interest"
        },
        %{
          "comment" => nil,
          "key" => "symbol",
          "value" => "this.safeSymbol (id, market)"
        },
        %{
          "comment" => nil,
          "key" => "baseVolume",
          "value" => "this.safeString (interest, 'volumeRq')"
        },
        %{
          "comment" => nil,
          "key" => "quoteVolume",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "openInterestValue",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "timestamp",
          "value" => "timestamp"
        },
        %{
          "comment" => nil,
          "key" => "datetime",
          "value" => "this.iso8601 (timestamp)"
        }
      ],
      "name" => "parseOpenInterest",
      "signature" => "parseOpenInterest (interest, market: Market = undefined)",
      "source" => "parseOpenInterest (interest, market: Market = undefined) {\n        //\n        //    {\n        //        closeRp: '67550.1',\n        //        fundingRateRr: '0.0001',\n        //        highRp: '68400',\n        //        indexPriceRp: '67567.15389794',\n        //        lowRp: '66096.4',\n        //        markPriceRp: '67550.1',\n        //        openInterestRv: '1848.1144186',\n        //        openRp: '66330',\n        //        predFundingRateRr: '0.0001',\n        //        symbol: 'BTCUSDT',\n        //        timestamp: '1729114315443343001',\n        //        turnoverRv: '228863389.3237532',\n        //        volumeRq: '3388.5600312'\n        //    }\n        //\n        const timestamp = this.safeInteger (interest, 'timestamp') / 1000000;\n        const id = this.safeString (interest, 'symbol');\n        return this.safeOpenInterest ({\n            'info': interest,\n            'symbol': this.safeSymbol (id, market),\n            'baseVolume': this.safeString (interest, 'volumeRq'),\n            'quoteVolume': undefined,  // deprecated\n            'openInterestAmount': this.safeString (interest, 'openInterestRv'),\n            'openInterestValue': undefined,\n            'timestamp': timestamp,\n            'datetime': this.iso8601 (timestamp),\n        }, market);\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [],
      "line_end" => 2623,
      "line_start" => 2616,
      "mappings" => [],
      "name" => "parseOrder",
      "signature" => "parseOrder (order: Dict, market: Market = undefined): Order",
      "source" => "parseOrder (order: Dict, market: Market = undefined): Order {\n        const isSwap = this.safeBool (market, 'swap', false);\n        const hasPnl = ('closedPnl' in order) || ('closedPnlRv' in order) || ('totalPnlRv' in order);\n        if (isSwap || hasPnl) {\n            return this.parseSwapOrder (order, market);\n        }\n        return this.parseSpotOrder (order, market);\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [],
      "line_end" => 2433,
      "line_start" => 2427,
      "mappings" => [],
      "name" => "parseOrderSide",
      "signature" => "parseOrderSide (side)",
      "source" => "parseOrderSide (side) {\n        const sides: Dict = {\n            '1': 'buy',\n            '2': 'sell',\n        };\n        return this.safeString (sides, side, side);\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [],
      "line_end" => 2286,
      "line_start" => 2264,
      "mappings" => [],
      "name" => "parseOrderStatus",
      "signature" => "parseOrderStatus (status: Str)",
      "source" => "parseOrderStatus (status: Str) {\n        const statuses: Dict = {\n            'Created': 'open',\n            'Untriggered': 'open',\n            'Deactivated': 'closed',\n            'Triggered': 'open',\n            'Rejected': 'rejected',\n            'New': 'open',\n            'PartiallyFilled': 'open',\n            'Filled': 'closed',\n            'Canceled': 'canceled',\n            'Suspended': 'canceled',\n            '1': 'open',\n            '2': 'canceled',\n            '3': 'closed',\n            '4': 'canceled',\n            '5': 'open',\n            '6': 'open',\n            '7': 'closed',\n            '8': 'canceled',\n        };\n        return this.safeString (statuses, status, status);\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [],
      "line_end" => 2304,
      "line_start" => 2288,
      "mappings" => [],
      "name" => "parseOrderType",
      "signature" => "parseOrderType (type: Str)",
      "source" => "parseOrderType (type: Str) {\n        const types: Dict = {\n            '1': 'market',\n            '2': 'limit',\n            '3': 'stop',\n            '4': 'stopLimit',\n            '5': 'market',\n            '6': 'limit',\n            '7': 'market',\n            '8': 'market',\n            '9': 'stopLimit',\n            '10': 'market',\n            'Limit': 'limit',\n            'Market': 'market',\n        };\n        return this.safeString (types, type, type);\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [
        "{\n        \"userID\": \"811370\",\n        \"accountID\": \"8113700002\",\n        \"symbol\": \"ETHUSD\",\n        \"currency\": \"USD\",\n        \"side\": \"Buy\",\n        \"positionStatus\": \"Normal\",\n        \"crossMargin\": false,\n        \"leverageEr\": \"200000000\",\n        \"leverage\": \"2.00000000\",\n        \"initMarginReqEr\": \"50000000\",\n        \"initMarginReq\": \"0.50000000\",\n        \"maintMarginReqEr\": \"1000000\",\n        \"maintMarginReq\": \"0.01000000\",\n        \"riskLimitEv\": \"5000000000\",\n        \"riskLimit\": \"500000.00000000\",\n        \"size\": \"1\",\n        \"value\": \"22.22370000\",\n        \"valueEv\": \"222237\",\n        \"avgEntryPriceEp\": \"44447400\",\n        \"avgEntryPrice\": \"4444.74000000\",\n        \"posCostEv\": \"111202\",\n        \"posCost\": \"11.12020000\",\n        \"assignedPosBalanceEv\": \"111202\",\n        \"assignedPosBalance\": \"11.12020000\",\n        \"bankruptCommEv\": \"84\",\n        \"bankruptComm\": \"0.00840000\",\n        \"bankruptPriceEp\": \"22224000\",\n        \"bankruptPrice\": \"2222.40000000\",\n        \"positionMarginEv\": \"111118\",\n        \"positionMargin\": \"11.11180000\",\n        \"liquidationPriceEp\": \"22669000\",\n        \"liquidationPrice\": \"2266.90000000\",\n        \"deleveragePercentileEr\": \"0\",\n        \"deleveragePercentile\": \"0E-8\",\n        \"buyValueToCostEr\": \"50112500\",\n        \"buyValueToCost\": \"0.50112500\",\n        \"sellValueToCostEr\": \"50187500\",\n        \"sellValueToCost\": \"0.50187500\",\n        \"markPriceEp\": \"31332499\",\n        \"markPrice\": \"3133.24990000\",\n        \"markValueEv\": \"0\",\n        \"markValue\": null,\n        \"unRealisedPosLossEv\": \"0\",\n        \"unRealisedPosLoss\": null,\n        \"estimatedOrdLossEv\": \"0\",\n        \"estimatedOrdLoss\": \"0E-8\",\n        \"usedBalanceEv\": \"111202\",\n        \"usedBalance\": \"11.12020000\",\n        \"takeProfitEp\": \"0\",\n        \"takeProfit\": null,\n        \"stopLossEp\": \"0\",\n        \"stopLoss\": null,\n        \"cumClosedPnlEv\": \"-1546\",\n        \"cumFundingFeeEv\": \"1605\",\n        \"cumTransactFeeEv\": \"8438\",\n        \"realisedPnlEv\": \"0\",\n        \"realisedPnl\": null,\n        \"cumRealisedPnlEv\": \"0\",\n        \"cumRealisedPnl\": null,\n        \"transactTimeNs\": \"1641571200001885324\",\n        \"takerFeeRateEr\": \"0\",\n        \"makerFeeRateEr\": \"0\",\n        \"term\": \"6\",\n        \"lastTermEndTimeNs\": \"1607711882505745356\",\n        \"lastFundingTimeNs\": \"1641571200000000000\",\n        \"curTermRealisedPnlEv\": \"-1567\",\n        \"execSeq\": \"12112761561\"\n    }"
      ],
      "line_end" => 4072,
      "line_start" => 3925,
      "mappings" => [
        %{
          "comment" => nil,
          "key" => "info",
          "value" => "position"
        },
        %{
          "comment" => nil,
          "key" => "id",
          "value" => "this.safeString (position, 'execSeq')"
        },
        %{
          "comment" => nil,
          "key" => "symbol",
          "value" => "symbol"
        },
        %{
          "comment" => nil,
          "key" => "contracts",
          "value" => "this.parseNumber (contracts)"
        },
        %{
          "comment" => nil,
          "key" => "contractSize",
          "value" => "contractSize"
        },
        %{
          "comment" => nil,
          "key" => "realizedPnl",
          "value" => "this.safeNumber (position, 'curTermRealisedPnlRv')"
        },
        %{
          "comment" => nil,
          "key" => "unrealizedPnl",
          "value" => "this.parseNumber (apiUnrealizedPnl)"
        },
        %{
          "comment" => nil,
          "key" => "leverage",
          "value" => "leverage"
        },
        %{
          "comment" => nil,
          "key" => "liquidationPrice",
          "value" => "liquidationPrice"
        },
        %{
          "comment" => nil,
          "key" => "collateral",
          "value" => "this.parseNumber (collateral)"
        },
        %{
          "comment" => nil,
          "key" => "notional",
          "value" => "this.parseNumber (notionalString)"
        },
        %{
          "comment" => nil,
          "key" => "markPrice",
          "value" => "this.parseNumber (markPriceString)"
        },
        %{
          "comment" => nil,
          "key" => "entryPrice",
          "value" => "this.parseNumber (entryPriceString)"
        },
        %{
          "comment" => nil,
          "key" => "timestamp",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "lastUpdateTimestamp",
          "value" => "this.safeIntegerProduct (position, 'transactTimeNs', 0.000001)"
        },
        %{
          "comment" => nil,
          "key" => "initialMargin",
          "value" => "this.parseNumber (initialMarginString)"
        },
        %{
          "comment" => nil,
          "key" => "initialMarginPercentage",
          "value" => "this.parseNumber (initialMarginPercentageString)"
        },
        %{
          "comment" => nil,
          "key" => "maintenanceMargin",
          "value" => "this.parseNumber (maintenanceMarginString)"
        },
        %{
          "comment" => nil,
          "key" => "maintenanceMarginPercentage",
          "value" => "this.parseNumber (maintenanceMarginPercentageString)"
        },
        %{
          "comment" => nil,
          "key" => "marginRatio",
          "value" => "this.parseNumber (marginRatio)"
        },
        %{
          "comment" => nil,
          "key" => "datetime",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "marginMode",
          "value" => "isCross ? 'cross' : 'isolated'"
        },
        %{
          "comment" => nil,
          "key" => "side",
          "value" => "side"
        },
        %{
          "comment" => nil,
          "key" => "hedged",
          "value" => "this.safeString (position, 'posMode') === 'Hedged'"
        },
        %{
          "comment" => nil,
          "key" => "percentage",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "stopLossPrice",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "takeProfitPrice",
          "value" => "undefined"
        }
      ],
      "name" => "parsePosition",
      "signature" => "parsePosition (position: Dict, market: Market = undefined)",
      "source" => "parsePosition (position: Dict, market: Market = undefined) {\n        //\n        //    {\n        //        \"userID\": \"811370\",\n        //        \"accountID\": \"8113700002\",\n        //        \"symbol\": \"ETHUSD\",\n        //        \"currency\": \"USD\",\n        //        \"side\": \"Buy\",\n        //        \"positionStatus\": \"Normal\",\n        //        \"crossMargin\": false,\n        //        \"leverageEr\": \"200000000\",\n        //        \"leverage\": \"2.00000000\",\n        //        \"initMarginReqEr\": \"50000000\",\n        //        \"initMarginReq\": \"0.50000000\",\n        //        \"maintMarginReqEr\": \"1000000\",\n        //        \"maintMarginReq\": \"0.01000000\",\n        //        \"riskLimitEv\": \"5000000000\",\n        //        \"riskLimit\": \"500000.00000000\",\n        //        \"size\": \"1\",\n        //        \"value\": \"22.22370000\",\n        //        \"valueEv\": \"222237\",\n        //        \"avgEntryPriceEp\": \"44447400\",\n        //        \"avgEntryPrice\": \"4444.74000000\",\n        //        \"posCostEv\": \"111202\",\n        //        \"posCost\": \"11.12020000\",\n        //        \"assignedPosBalanceEv\": \"111202\",\n        //        \"assignedPosBalance\": \"11.12020000\",\n        //        \"bankruptCommEv\": \"84\",\n        //        \"bankruptComm\": \"0.00840000\",\n        //        \"bankruptPriceEp\": \"22224000\",\n        //        \"bankruptPrice\": \"2222.40000000\",\n        //        \"positionMarginEv\": \"111118\",\n        //        \"positionMargin\": \"11.11180000\",\n        //        \"liquidationPriceEp\": \"22669000\",\n        //        \"liquidationPrice\": \"2266.90000000\",\n        //        \"deleveragePercentileEr\": \"0\",\n        //        \"deleveragePercentile\": \"0E-8\",\n        //        \"buyValueToCostEr\": \"50112500\",\n        //        \"buyValueToCost\": \"0.50112500\",\n        //        \"sellValueToCostEr\": \"50187500\",\n        //        \"sellValueToCost\": \"0.50187500\",\n        //        \"markPriceEp\": \"31332499\",\n        //        \"markPrice\": \"3133.24990000\",\n        //        \"markValueEv\": \"0\",\n        //        \"markValue\": null,\n        //        \"unRealisedPosLossEv\": \"0\",\n        //        \"unRealisedPosLoss\": null,\n        //        \"estimatedOrdLossEv\": \"0\",\n        //        \"estimatedOrdLoss\": \"0E-8\",\n        //        \"usedBalanceEv\": \"111202\",\n        //        \"usedBalance\": \"11.12020000\",\n        //        \"takeProfitEp\": \"0\",\n        //        \"takeProfit\": null,\n        //        \"stopLossEp\": \"0\",\n        //        \"stopLoss\": null,\n        //        \"cumClosedPnlEv\": \"-1546\",\n        //        \"cumFundingFeeEv\": \"1605\",\n        //        \"cumTransactFeeEv\": \"8438\",\n        //        \"realisedPnlEv\": \"0\",\n        //        \"realisedPnl\": null,\n        //        \"cumRealisedPnlEv\": \"0\",\n        //        \"cumRealisedPnl\": null,\n        //        \"transactTimeNs\": \"1641571200001885324\",\n        //        \"takerFeeRateEr\": \"0\",\n        //        \"makerFeeRateEr\": \"0\",\n        //        \"term\": \"6\",\n        //        \"lastTermEndTimeNs\": \"1607711882505745356\",\n        //        \"lastFundingTimeNs\": \"1641571200000000000\",\n        //        \"curTermRealisedPnlEv\": \"-1567\",\n        //        \"execSeq\": \"12112761561\"\n        //    }\n        //\n        const marketId = this.safeString (position, 'symbol');\n        market = this.safeMarket (marketId, market);\n        const symbol = market['symbol'];\n        const collateral = this.safeString2 (position, 'positionMargin', 'positionMarginRv');\n        const notionalString = this.safeString2 (position, 'value', 'valueRv');\n        const maintenanceMarginPercentageString = this.safeString2 (position, 'maintMarginReq', 'maintMarginReqRr');\n        const maintenanceMarginString = Precise.stringMul (notionalString, maintenanceMarginPercentageString);\n        const initialMarginString = this.safeString2 (position, 'assignedPosBalance', 'assignedPosBalanceRv');\n        const initialMarginPercentageString = Precise.stringDiv (initialMarginString, notionalString);\n        const liquidationPrice = this.safeNumber2 (position, 'liquidationPrice', 'liquidationPriceRp');\n        const markPriceString = this.safeString2 (position, 'markPrice', 'markPriceRp');\n        const contracts = this.safeString2 (position, 'size', 'sizeRq');\n        const contractSize = this.safeValue (market, 'contractSize');\n        const contractSizeString = this.numberToString (contractSize);\n        const leverage = this.parseNumber (Precise.stringAbs ((this.safeString2 (position, 'leverage', 'leverageRr'))));\n        const entryPriceString = this.safeString2 (position, 'avgEntryPrice', 'avgEntryPriceRp');\n        const rawSide = this.safeString (position, 'side');\n        let side = undefined;\n        if (rawSide !== undefined) {\n            side = (rawSide === 'Buy') ? 'long' : 'short';\n        }\n        // Inverse long contract: unRealizedPnl = (posSize * contractSize) / avgEntryPrice - (posSize * contractSize) / markPrice\n        // Inverse short contract: unRealizedPnl =  (posSize *contractSize) / markPrice - (posSize * contractSize) / avgEntryPrice\n        // Linear long contract:  unRealizedPnl = (posSize * contractSize) * markPrice - (posSize * contractSize) * avgEntryPrice\n        // Linear short contract:  unRealizedPnl = (posSize * contractSize) * avgEntryPrice - (posSize * contractSize) * markPrice\n        let priceDiff = undefined;\n        if (market['linear']) {\n            if (side === 'long') {\n                priceDiff = Precise.stringSub (markPriceString, entryPriceString);\n            } else {\n                priceDiff = Precise.stringSub (entryPriceString, markPriceString);\n            }\n        } else {\n            // inverse\n            if (side === 'long') {\n                priceDiff = Precise.stringSub (Precise.stringDiv ('1', entryPriceString), Precise.stringDiv ('1', markPriceString));\n            } else {\n                priceDiff = Precise.stringSub (Precise.stringDiv ('1', markPriceString), Precise.stringDiv ('1', entryPriceString));\n            }\n        }\n        const unrealizedPnl = Precise.stringMul (Precise.stringMul (priceDiff, contracts), contractSizeString);\n        // the unrealizedPnl is only available in a specific endpoint which much higher RL limits\n        const apiUnrealizedPnl = this.safeString (position, 'unRealisedPnlRv', unrealizedPnl);\n        const marginRatio = Precise.stringDiv (maintenanceMarginString, collateral);\n        const isCross = this.safeValue (position, 'crossMargin');\n        return this.safePosition ({\n            'info': position,\n            'id': this.safeString (position, 'execSeq'),\n            'symbol': symbol,\n            'contracts': this.parseNumber (contracts),\n            'contractSize': contractSize,\n            'realizedPnl': this.safeNumber (position, 'curTermRealisedPnlRv'),\n            'unrealizedPnl': this.parseNumber (apiUnrealizedPnl),\n            'leverage': leverage,\n            'liquidationPrice': liquidationPrice,\n            'collateral': this.parseNumber (collateral),\n            'notional': this.parseNumber (notionalString),\n            'markPrice': this.parseNumber (markPriceString), // markPrice lags a bit \\_()_/\n            'lastPrice': undefined,\n            'entryPrice': this.parseNumber (entryPriceString),\n            'timestamp': undefined,\n            'lastUpdateTimestamp': this.safeIntegerProduct (position, 'transactTimeNs', 0.000001),\n            'initialMargin': this.parseNumber (initialMarginString),\n            'initialMarginPercentage': this.parseNumber (initialMarginPercentageString),\n            'maintenanceMargin': this.parseNumber (maintenanceMarginString),\n            'maintenanceMarginPercentage': this.parseNumber (maintenanceMarginPercentageString),\n            'marginRatio': this.parseNumber (marginRatio),\n            'datetime': undefined,\n            'marginMode': isCross ? 'cross' : 'isolated',\n            'side': side,\n            'hedged': this.safeString (position, 'posMode') === 'Hedged',\n            'percentage': undefined,\n            'stopLossPrice': undefined,\n            'takeProfitPrice': undefined,\n        });\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [],
      "line_end" => 627,
      "line_start" => 619,
      "mappings" => [],
      "name" => "parseSafeNumber",
      "signature" => "parseSafeNumber (value = undefined)",
      "source" => "parseSafeNumber (value = undefined) {\n        if (value === undefined) {\n            return value;\n        }\n        let parts = value.split (',');\n        value = parts.join ('');\n        parts = value.split (' ');\n        return this.safeNumber (parts, 0);\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [
        "{\n         \"code\":0,\n         \"msg\":\"\",\n         \"data\":[\n             {\n                 \"currency\":\"USDT\",\n                 \"balanceEv\":0,\n                 \"lockedTradingBalanceEv\":0,\n                 \"lockedWithdrawEv\":0,\n                 \"lastUpdateTimeNs\":1592065834511322514,\n                 \"walletVid\":0\n             },\n             {\n                 \"currency\":\"ETH\",\n                 \"balanceEv\":0,\n                 \"lockedTradingBalanceEv\":0,\n                 \"lockedWithdrawEv\":0,\n                 \"lastUpdateTimeNs\":1592065834511322514,\n                 \"walletVid\":0\n             }\n         ]\n     }"
      ],
      "line_end" => 2041,
      "line_start" => 1990,
      "mappings" => [],
      "name" => "parseSpotBalance",
      "signature" => "parseSpotBalance (response)",
      "source" => "parseSpotBalance (response) {\n        //\n        //     {\n        //         \"code\":0,\n        //         \"msg\":\"\",\n        //         \"data\":[\n        //             {\n        //                 \"currency\":\"USDT\",\n        //                 \"balanceEv\":0,\n        //                 \"lockedTradingBalanceEv\":0,\n        //                 \"lockedWithdrawEv\":0,\n        //                 \"lastUpdateTimeNs\":1592065834511322514,\n        //                 \"walletVid\":0\n        //             },\n        //             {\n        //                 \"currency\":\"ETH\",\n        //                 \"balanceEv\":0,\n        //                 \"lockedTradingBalanceEv\":0,\n        //                 \"lockedWithdrawEv\":0,\n        //                 \"lastUpdateTimeNs\":1592065834511322514,\n        //                 \"walletVid\":0\n        //             }\n        //         ]\n        //     }\n        //\n        let timestamp = undefined;\n        const result: Dict = { 'info': response };\n        const data = this.safeValue (response, 'data', []);\n        for (let i = 0; i < data.length; i++) {\n            const balance = data[i];\n            const currencyId = this.safeString (balance, 'currency');\n            const code = this.safeCurrencyCode (currencyId);\n            const currency = this.safeValue (this.currencies, code, {});\n            const scale = this.safeInteger (currency, 'valueScale', 8);\n            const account = this.account ();\n            const balanceEv = this.safeString (balance, 'balanceEv');\n            const lockedTradingBalanceEv = this.safeString (balance, 'lockedTradingBalanceEv');\n            const lockedWithdrawEv = this.safeString (balance, 'lockedWithdrawEv');\n            const total = this.fromEn (balanceEv, scale);\n            const lockedTradingBalance = this.fromEn (lockedTradingBalanceEv, scale);\n            const lockedWithdraw = this.fromEn (lockedWithdrawEv, scale);\n            const used = Precise.stringAdd (lockedTradingBalance, lockedWithdraw);\n            const lastUpdateTimeNs = this.safeIntegerProduct (balance, 'lastUpdateTimeNs', 0.000001);\n            timestamp = (timestamp === undefined) ? lastUpdateTimeNs : Math.max (timestamp, lastUpdateTimeNs);\n            account['total'] = total;\n            account['used'] = used;\n            result[code] = account;\n        }\n        result['timestamp'] = timestamp;\n        result['datetime'] = this.iso8601 (timestamp);\n        return this.safeBalance (result);\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [
        "{\n         \"symbol\":\"sBTCUSDT\",\n         \"code\":1001,\n         \"type\":\"Spot\",\n         \"displaySymbol\":\"BTC / USDT\",\n         \"quoteCurrency\":\"USDT\",\n         \"priceScale\":8,\n         \"ratioScale\":8,\n         \"pricePrecision\":2,\n         \"baseCurrency\":\"BTC\",\n         \"baseTickSize\":\"0.000001 BTC\",\n         \"baseTickSizeEv\":100,\n         \"quoteTickSize\":\"0.01 USDT\",\n         \"quoteTickSizeEv\":1000000,\n         \"baseQtyPrecision\":6,\n         \"quoteQtyPrecision\":2,\n         \"minOrderValue\":\"10 USDT\",\n         \"minOrderValueEv\":1000000000,\n         \"maxBaseOrderSize\":\"1000 BTC\",\n         \"maxBaseOrderSizeEv\":100000000000,\n         \"maxOrderValue\":\"5,000,000 USDT\",\n         \"maxOrderValueEv\":500000000000000,\n         \"defaultTakerFee\":\"0.001\",\n         \"defaultTakerFeeEr\":100000,\n         \"defaultMakerFee\":\"0.001\",\n         \"defaultMakerFeeEr\":100000,\n         \"description\":\"BTCUSDT is a BTC/USDT spot trading pair. Minimum order value is 1 USDT\",\n         \"status\":\"Listed\",\n         \"tipOrderQty\":2,\n         \"listTime\":1589338800000,\n         \"buyPriceUpperLimitPct\":110,\n         \"sellPriceLowerLimitPct\":90,\n         \"leverage\":5\n     },"
      ],
      "line_end" => 873,
      "line_start" => 773,
      "mappings" => [
        %{
          "comment" => nil,
          "key" => "id",
          "value" => "id"
        },
        %{
          "comment" => nil,
          "key" => "symbol",
          "value" => "base + '/' + quote"
        },
        %{
          "comment" => nil,
          "key" => "base",
          "value" => "base"
        },
        %{
          "comment" => nil,
          "key" => "quote",
          "value" => "quote"
        },
        %{
          "comment" => nil,
          "key" => "settle",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "baseId",
          "value" => "baseId"
        },
        %{
          "comment" => nil,
          "key" => "quoteId",
          "value" => "quoteId"
        },
        %{
          "comment" => nil,
          "key" => "settleId",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "type",
          "value" => "type"
        },
        %{
          "comment" => nil,
          "key" => "spot",
          "value" => "true"
        },
        %{
          "comment" => nil,
          "key" => "margin",
          "value" => "false"
        },
        %{
          "comment" => nil,
          "key" => "swap",
          "value" => "false"
        },
        %{
          "comment" => nil,
          "key" => "future",
          "value" => "false"
        },
        %{
          "comment" => nil,
          "key" => "option",
          "value" => "false"
        },
        %{
          "comment" => nil,
          "key" => "active",
          "value" => "status === 'Listed'"
        },
        %{
          "comment" => nil,
          "key" => "contract",
          "value" => "false"
        },
        %{
          "comment" => nil,
          "key" => "linear",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "inverse",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "taker",
          "value" => "this.safeNumber (market, 'defaultTakerFee')"
        },
        %{
          "comment" => nil,
          "key" => "maker",
          "value" => "this.safeNumber (market, 'defaultMakerFee')"
        },
        %{
          "comment" => nil,
          "key" => "contractSize",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "expiry",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "expiryDatetime",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "strike",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "optionType",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "priceScale",
          "value" => "this.safeInteger (market, 'priceScale')"
        },
        %{
          "comment" => nil,
          "key" => "valueScale",
          "value" => "this.safeInteger (market, 'valueScale')"
        },
        %{
          "comment" => nil,
          "key" => "ratioScale",
          "value" => "this.safeInteger (market, 'ratioScale')"
        },
        %{
          "comment" => nil,
          "key" => "precision",
          "value" => "{\n                'amount': precisionAmount,\n                'price': precisionPrice,\n            }"
        },
        %{
          "comment" => nil,
          "key" => "limits",
          "value" => "{\n                'leverage': {\n                    'min': undefined,\n                    'max': undefined,\n                },\n                'amount': {\n                    'min': precisionAmount,\n                    'max': this.parseSafeNumber (this.safeString (market, 'maxBaseOrderSize')),\n                },\n                'price': {\n                    'min': precisionPrice,\n                    'max': undefined,\n                },\n                'cost': {\n                    'min': this.parseSafeNumber (this.safeString (market, 'minOrderValue')),\n                    'max': this.parseSafeNumber (this.safeString (market, 'maxOrderValue')),\n                },\n            }"
        },
        %{
          "comment" => nil,
          "key" => "created",
          "value" => "this.safeInteger (market, 'listTime')"
        },
        %{
          "comment" => nil,
          "key" => "info",
          "value" => "market"
        },
        %{
          "comment" => nil,
          "key" => "amount",
          "value" => "precisionAmount"
        },
        %{
          "comment" => nil,
          "key" => "price",
          "value" => "precisionPrice"
        },
        %{
          "comment" => nil,
          "key" => "min",
          "value" => "precisionPrice"
        },
        %{
          "comment" => nil,
          "key" => "max",
          "value" => "undefined"
        }
      ],
      "name" => "parseSpotMarket",
      "signature" => "parseSpotMarket (market: Dict)",
      "source" => "parseSpotMarket (market: Dict) {\n        //\n        //     {\n        //         \"symbol\":\"sBTCUSDT\",\n        //         \"code\":1001,\n        //         \"type\":\"Spot\",\n        //         \"displaySymbol\":\"BTC / USDT\",\n        //         \"quoteCurrency\":\"USDT\",\n        //         \"priceScale\":8,\n        //         \"ratioScale\":8,\n        //         \"pricePrecision\":2,\n        //         \"baseCurrency\":\"BTC\",\n        //         \"baseTickSize\":\"0.000001 BTC\",\n        //         \"baseTickSizeEv\":100,\n        //         \"quoteTickSize\":\"0.01 USDT\",\n        //         \"quoteTickSizeEv\":1000000,\n        //         \"baseQtyPrecision\":6,\n        //         \"quoteQtyPrecision\":2,\n        //         \"minOrderValue\":\"10 USDT\",\n        //         \"minOrderValueEv\":1000000000,\n        //         \"maxBaseOrderSize\":\"1000 BTC\",\n        //         \"maxBaseOrderSizeEv\":100000000000,\n        //         \"maxOrderValue\":\"5,000,000 USDT\",\n        //         \"maxOrderValueEv\":500000000000000,\n        //         \"defaultTakerFee\":\"0.001\",\n        //         \"defaultTakerFeeEr\":100000,\n        //         \"defaultMakerFee\":\"0.001\",\n        //         \"defaultMakerFeeEr\":100000,\n        //         \"description\":\"BTCUSDT is a BTC/USDT spot trading pair. Minimum order value is 1 USDT\",\n        //         \"status\":\"Listed\",\n        //         \"tipOrderQty\":2,\n        //         \"listTime\":1589338800000,\n        //         \"buyPriceUpperLimitPct\":110,\n        //         \"sellPriceLowerLimitPct\":90,\n        //         \"leverage\":5\n        //     },\n        //\n        const type = this.safeStringLower (market, 'type');\n        const id = this.safeString (market, 'symbol');\n        const quoteId = this.safeString (market, 'quoteCurrency');\n        const baseId = this.safeString (market, 'baseCurrency');\n        const base = this.safeCurrencyCode (baseId);\n        const quote = this.safeCurrencyCode (quoteId);\n        const status = this.safeString (market, 'status');\n        const precisionAmount = this.parseSafeNumber (this.safeString (market, 'baseTickSize'));\n        const precisionPrice = this.parseSafeNumber (this.safeString (market, 'quoteTickSize'));\n        return this.safeMarketStructure ({\n            'id': id,\n            'symbol': base + '/' + quote,\n            'base': base,\n            'quote': quote,\n            'settle': undefined,\n            'baseId': baseId,\n            'quoteId': quoteId,\n            'settleId': undefined,\n            'type': type,\n            'spot': true,\n            'margin': false,\n            'swap': false,\n            'future': false,\n            'option': false,\n            'active': status === 'Listed',\n            'contract': false,\n            'linear': undefined,\n            'inverse': undefined,\n            'taker': this.safeNumber (market, 'defaultTakerFee'),\n            'maker': this.safeNumber (market, 'defaultMakerFee'),\n            'contractSize': undefined,\n            'expiry': undefined,\n            'expiryDatetime': undefined,\n            'strike': undefined,\n            'optionType': undefined,\n            'priceScale': this.safeInteger (market, 'priceScale'),\n            'valueScale': this.safeInteger (market, 'valueScale'),\n            'ratioScale': this.safeInteger (market, 'ratioScale'),\n            'precision': {\n                'amount': precisionAmount,\n                'price': precisionPrice,\n            },\n            'limits': {\n                'leverage': {\n                    'min': undefined,\n                    'max': undefined,\n                },\n                'amount': {\n                    'min': precisionAmount,\n                    'max': this.parseSafeNumber (this.safeString (market, 'maxBaseOrderSize')),\n                },\n                'price': {\n                    'min': precisionPrice,\n                    'max': undefined,\n                },\n                'cost': {\n                    'min': this.parseSafeNumber (this.safeString (market, 'minOrderValue')),\n                    'max': this.parseSafeNumber (this.safeString (market, 'maxOrderValue')),\n                },\n            },\n            'created': this.safeInteger (market, 'listTime'),\n            'info': market,\n        });\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [
        "{\n         \"orderID\": \"d1d09454-cabc-4a23-89a7-59d43363f16d\",\n         \"clOrdID\": \"309bcd5c-9f6e-4a68-b775-4494542eb5cb\",\n         \"priceEp\": 0,\n         \"action\": \"New\",\n         \"trigger\": \"UNSPECIFIED\",\n         \"pegPriceType\": \"UNSPECIFIED\",\n         \"stopDirection\": \"UNSPECIFIED\",\n         \"bizError\": 0,\n         \"symbol\": \"sBTCUSDT\",\n         \"side\": \"Buy\",\n         \"baseQtyEv\": 0,\n         \"ordType\": \"Limit\",\n         \"timeInForce\": \"GoodTillCancel\",\n         \"ordStatus\": \"Created\",\n         \"cumFeeEv\": 0,\n         \"cumBaseQtyEv\": 0,\n         \"cumQuoteQtyEv\": 0,\n         \"leavesBaseQtyEv\": 0,\n         \"leavesQuoteQtyEv\": 0,\n         \"avgPriceEp\": 0,\n         \"cumBaseAmountEv\": 0,\n         \"cumQuoteAmountEv\": 0,\n         \"quoteQtyEv\": 0,\n         \"qtyType\": \"ByBase\",\n         \"stopPxEp\": 0,\n         \"pegOffsetValueEp\": 0\n     }",
        "{\n         \"orderID\":\"99232c3e-3d6a-455f-98cc-2061cdfe91bc\",\n         \"stopPxEp\":0,\n         \"avgPriceEp\":0,\n         \"qtyType\":\"ByBase\",\n         \"leavesBaseQtyEv\":0,\n         \"leavesQuoteQtyEv\":0,\n         \"baseQtyEv\":\"1000000000\",\n         \"feeCurrency\":\"4\",\n         \"stopDirection\":\"UNSPECIFIED\",\n         \"symbol\":\"sETHUSDT\",\n         \"side\":\"Buy\",\n         \"quoteQtyEv\":250000000000,\n         \"priceEp\":25000000000,\n         \"ordType\":\"Limit\",\n         \"timeInForce\":\"GoodTillCancel\",\n         \"ordStatus\":\"Rejected\",\n         \"execStatus\":\"NewRejected\",\n         \"createTimeNs\":1592675305266037130,\n         \"cumFeeEv\":0,\n         \"cumBaseValueEv\":0,\n         \"cumQuoteValueEv\":0\n     }"
      ],
      "line_end" => 2425,
      "line_start" => 2316,
      "mappings" => [
        %{
          "comment" => nil,
          "key" => "info",
          "value" => "order"
        },
        %{
          "comment" => nil,
          "key" => "id",
          "value" => "id"
        },
        %{
          "comment" => nil,
          "key" => "clientOrderId",
          "value" => "clientOrderId"
        },
        %{
          "comment" => nil,
          "key" => "timestamp",
          "value" => "timestamp"
        },
        %{
          "comment" => nil,
          "key" => "datetime",
          "value" => "this.iso8601 (timestamp)"
        },
        %{
          "comment" => nil,
          "key" => "lastTradeTimestamp",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "symbol",
          "value" => "symbol"
        },
        %{
          "comment" => nil,
          "key" => "type",
          "value" => "type"
        },
        %{
          "comment" => nil,
          "key" => "timeInForce",
          "value" => "timeInForce"
        },
        %{
          "comment" => nil,
          "key" => "postOnly",
          "value" => "postOnly"
        },
        %{
          "comment" => nil,
          "key" => "side",
          "value" => "side"
        },
        %{
          "comment" => nil,
          "key" => "price",
          "value" => "price"
        },
        %{
          "comment" => nil,
          "key" => "triggerPrice",
          "value" => "triggerPrice"
        },
        %{
          "comment" => nil,
          "key" => "amount",
          "value" => "amount"
        },
        %{
          "comment" => nil,
          "key" => "cost",
          "value" => "cost"
        },
        %{
          "comment" => nil,
          "key" => "average",
          "value" => "average"
        },
        %{
          "comment" => nil,
          "key" => "filled",
          "value" => "filled"
        },
        %{
          "comment" => nil,
          "key" => "remaining",
          "value" => "remaining"
        },
        %{
          "comment" => nil,
          "key" => "status",
          "value" => "status"
        },
        %{
          "comment" => nil,
          "key" => "fee",
          "value" => "fee"
        },
        %{
          "comment" => nil,
          "key" => "trades",
          "value" => "undefined"
        }
      ],
      "name" => "parseSpotOrder",
      "signature" => "parseSpotOrder (order: Dict, market: Market = undefined)",
      "source" => "parseSpotOrder (order: Dict, market: Market = undefined) {\n        //\n        // spot\n        //\n        //     {\n        //         \"orderID\": \"d1d09454-cabc-4a23-89a7-59d43363f16d\",\n        //         \"clOrdID\": \"309bcd5c-9f6e-4a68-b775-4494542eb5cb\",\n        //         \"priceEp\": 0,\n        //         \"action\": \"New\",\n        //         \"trigger\": \"UNSPECIFIED\",\n        //         \"pegPriceType\": \"UNSPECIFIED\",\n        //         \"stopDirection\": \"UNSPECIFIED\",\n        //         \"bizError\": 0,\n        //         \"symbol\": \"sBTCUSDT\",\n        //         \"side\": \"Buy\",\n        //         \"baseQtyEv\": 0,\n        //         \"ordType\": \"Limit\",\n        //         \"timeInForce\": \"GoodTillCancel\",\n        //         \"ordStatus\": \"Created\",\n        //         \"cumFeeEv\": 0,\n        //         \"cumBaseQtyEv\": 0,\n        //         \"cumQuoteQtyEv\": 0,\n        //         \"leavesBaseQtyEv\": 0,\n        //         \"leavesQuoteQtyEv\": 0,\n        //         \"avgPriceEp\": 0,\n        //         \"cumBaseAmountEv\": 0,\n        //         \"cumQuoteAmountEv\": 0,\n        //         \"quoteQtyEv\": 0,\n        //         \"qtyType\": \"ByBase\",\n        //         \"stopPxEp\": 0,\n        //         \"pegOffsetValueEp\": 0\n        //     }\n        //\n        //     {\n        //         \"orderID\":\"99232c3e-3d6a-455f-98cc-2061cdfe91bc\",\n        //         \"stopPxEp\":0,\n        //         \"avgPriceEp\":0,\n        //         \"qtyType\":\"ByBase\",\n        //         \"leavesBaseQtyEv\":0,\n        //         \"leavesQuoteQtyEv\":0,\n        //         \"baseQtyEv\":\"1000000000\",\n        //         \"feeCurrency\":\"4\",\n        //         \"stopDirection\":\"UNSPECIFIED\",\n        //         \"symbol\":\"sETHUSDT\",\n        //         \"side\":\"Buy\",\n        //         \"quoteQtyEv\":250000000000,\n        //         \"priceEp\":25000000000,\n        //         \"ordType\":\"Limit\",\n        //         \"timeInForce\":\"GoodTillCancel\",\n        //         \"ordStatus\":\"Rejected\",\n        //         \"execStatus\":\"NewRejected\",\n        //         \"createTimeNs\":1592675305266037130,\n        //         \"cumFeeEv\":0,\n        //         \"cumBaseValueEv\":0,\n        //         \"cumQuoteValueEv\":0\n        //     }\n        //\n        const id = this.safeString (order, 'orderID');\n        let clientOrderId = this.safeString (order, 'clOrdID');\n        if ((clientOrderId !== undefined) && (clientOrderId.length < 1)) {\n            clientOrderId = undefined;\n        }\n        const marketId = this.safeString (order, 'symbol');\n        market = this.safeMarket (marketId, market);\n        const symbol = market['symbol'];\n        const price = this.fromEp (this.safeString (order, 'priceEp'), market);\n        const amount = this.fromEv (this.safeString (order, 'baseQtyEv'), market);\n        const remaining = this.omitZero (this.fromEv (this.safeString (order, 'leavesBaseQtyEv'), market));\n        const filled = this.fromEv (this.safeString2 (order, 'cumBaseQtyEv', 'cumBaseValueEv'), market);\n        const cost = this.fromEr (this.safeString2 (order, 'cumQuoteValueEv', 'quoteQtyEv'), market);\n        const average = this.fromEp (this.safeString (order, 'avgPriceEp'), market);\n        const status = this.parseOrderStatus (this.safeString (order, 'ordStatus'));\n        const side = this.safeStringLower (order, 'side');\n        const type = this.parseOrderType (this.safeString (order, 'ordType'));\n        const timestamp = this.safeIntegerProduct2 (order, 'actionTimeNs', 'createTimeNs', 0.000001);\n        let fee = undefined;\n        const feeCost = this.fromEv (this.safeString (order, 'cumFeeEv'), market);\n        if (feeCost !== undefined) {\n            fee = {\n                'cost': feeCost,\n                'currency': this.safeCurrencyCode (this.safeString (order, 'feeCurrency')),\n            };\n        }\n        const timeInForce = this.parseTimeInForce (this.safeString (order, 'timeInForce'));\n        const triggerPrice = this.parseNumber (this.omitZero (this.fromEp (this.safeString (order, 'stopPxEp'))));\n        const postOnly = (timeInForce === 'PO');\n        return this.safeOrder ({\n            'info': order,\n            'id': id,\n            'clientOrderId': clientOrderId,\n            'timestamp': timestamp,\n            'datetime': this.iso8601 (timestamp),\n            'lastTradeTimestamp': undefined,\n            'symbol': symbol,\n            'type': type,\n            'timeInForce': timeInForce,\n            'postOnly': postOnly,\n            'side': side,\n            'price': price,\n            'triggerPrice': triggerPrice,\n            'amount': amount,\n            'cost': cost,\n            'average': average,\n            'filled': filled,\n            'remaining': remaining,\n            'status': status,\n            'fee': fee,\n            'trades': undefined,\n        }, market);\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [],
      "line_end" => 2089,
      "line_start" => 2043,
      "mappings" => [],
      "name" => "parseSwapBalance",
      "signature" => "parseSwapBalance (response)",
      "source" => "parseSwapBalance (response) {\n        // usdt\n        //   {\n        //       \"info\": {\n        //         \"code\": \"0\",\n        //         \"msg\": '',\n        //         \"data\": {\n        //           \"account\": {\n        //             \"userID\": \"940666\",\n        //             \"accountId\": \"9406660003\",\n        //             \"currency\": \"USDT\",\n        //             \"accountBalanceRv\": \"99.93143972\",\n        //             \"totalUsedBalanceRv\": \"0.40456\",\n        //             \"bonusBalanceRv\": \"0\"\n        //           },\n        //   }\n        //\n        //     {\n        //         \"code\":0,\n        //         \"msg\":\"\",\n        //         \"data\":{\n        //             \"account\":{\n        //                 \"accountId\":6192120001,\n        //                 \"currency\":\"BTC\",\n        //                 \"accountBalanceEv\":1254744,\n        //                 \"totalUsedBalanceEv\":0,\n        //                 \"bonusBalanceEv\":1254744\n        //             }\n        //         }\n        //     }\n        //\n        const result: Dict = { 'info': response };\n        const data = this.safeValue (response, 'data', {});\n        const balance = this.safeValue (data, 'account', {});\n        const currencyId = this.safeString (balance, 'currency');\n        const code = this.safeCurrencyCode (currencyId);\n        const currency = this.currency (code);\n        const valueScale = this.safeInteger (currency, 'valueScale', 8);\n        const account = this.account ();\n        const accountBalanceEv = this.safeString2 (balance, 'accountBalanceEv', 'accountBalanceRv');\n        const totalUsedBalanceEv = this.safeString2 (balance, 'totalUsedBalanceEv', 'totalUsedBalanceRv');\n        const needsConversion = (code !== 'USDT');\n        account['total'] = needsConversion ? this.fromEn (accountBalanceEv, valueScale) : accountBalanceEv;\n        account['used'] = needsConversion ? this.fromEn (totalUsedBalanceEv, valueScale) : totalUsedBalanceEv;\n        result[code] = account;\n        return this.safeBalance (result);\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [
        "{\n         \"symbol\":\"BTCUSD\", //\n         \"code\":\"1\",\n         \"type\":\"Perpetual\",\n         \"displaySymbol\":\"BTC / USD\",\n         \"indexSymbol\":\".BTC\",\n         \"markSymbol\":\".MBTC\",\n         \"fundingRateSymbol\":\".BTCFR\",\n         \"fundingRate8hSymbol\":\".BTCFR8H\",\n         \"contractUnderlyingAssets\":\"USD\", // or eg. `1000 SHIB`\n         \"settleCurrency\":\"BTC\",\n         \"quoteCurrency\":\"USD\",\n         \"contractSize\":\"1 USD\",\n         \"lotSize\":1,\n         \"tickSize\":0.5,\n         \"priceScale\":4,\n         \"ratioScale\":8,\n         \"pricePrecision\":1,\n         \"minPriceEp\":5000,\n         \"maxPriceEp\":10000000000,\n         \"maxOrderQty\":1000000,\n         \"status\":\"Listed\",\n         \"tipOrderQty\":1000000,\n         \"listTime\":\"1574650800000\",\n         \"majorSymbol\":true,\n         \"steps\":\"50\",\n         \"riskLimits\":[\n             {\"limit\":100,\"initialMargin\":\"1.0%\",\"initialMarginEr\":1000000,\"maintenanceMargin\":\"0.5%\",\"maintenanceMarginEr\":500000},\n             {\"limit\":150,\"initialMargin\":\"1.5%\",\"initialMarginEr\":1500000,\"maintenanceMargin\":\"1.0%\",\"maintenanceMarginEr\":1000000},\n             {\"limit\":200,\"initialMargin\":\"2.0%\",\"initialMarginEr\":2000000,\"maintenanceMargin\":\"1.5%\",\"maintenanceMarginEr\":1500000},\n         ],\n         \"underlyingSymbol\":\".BTC\",\n         \"baseCurrency\":\"BTC\",\n         \"settlementCurrency\":\"BTC\",\n         \"valueScale\":8,\n         \"defaultLeverage\":0,\n         \"maxLeverage\":100,\n         \"initMarginEr\":\"1000000\",\n         \"maintMarginEr\":\"500000\",\n         \"defaultRiskLimitEv\":10000000000,\n         \"deleverage\":true,\n         \"makerFeeRateEr\":-250000,\n         \"takerFeeRateEr\":750000,\n         \"fundingInterval\":8,\n         \"marketUrl\":\"https://phemex.com/trade/BTCUSD\",\n         \"description\":\"BTCUSD is a BTC/USD perpetual contract priced on the .BTC Index. Each contract is worth 1 USD of Bitcoin. Funding is paid and received every 8 hours. At UTC time: 00:00, 08:00, 16:00.\",\n     }"
      ],
      "line_end" => 771,
      "line_start" => 629,
      "mappings" => [
        %{
          "comment" => nil,
          "key" => "id",
          "value" => "id"
        },
        %{
          "comment" => nil,
          "key" => "symbol",
          "value" => "base + '/' + quote + ':' + settle"
        },
        %{
          "comment" => nil,
          "key" => "base",
          "value" => "base"
        },
        %{
          "comment" => nil,
          "key" => "quote",
          "value" => "quote"
        },
        %{
          "comment" => nil,
          "key" => "settle",
          "value" => "settle"
        },
        %{
          "comment" => nil,
          "key" => "baseId",
          "value" => "baseId"
        },
        %{
          "comment" => nil,
          "key" => "quoteId",
          "value" => "quoteId"
        },
        %{
          "comment" => nil,
          "key" => "settleId",
          "value" => "settleId"
        },
        %{
          "comment" => nil,
          "key" => "type",
          "value" => "'swap'"
        },
        %{
          "comment" => nil,
          "key" => "spot",
          "value" => "false"
        },
        %{
          "comment" => nil,
          "key" => "margin",
          "value" => "false"
        },
        %{
          "comment" => nil,
          "key" => "swap",
          "value" => "true"
        },
        %{
          "comment" => nil,
          "key" => "future",
          "value" => "false"
        },
        %{
          "comment" => nil,
          "key" => "option",
          "value" => "false"
        },
        %{
          "comment" => nil,
          "key" => "active",
          "value" => "status === 'Listed'"
        },
        %{
          "comment" => nil,
          "key" => "contract",
          "value" => "true"
        },
        %{
          "comment" => nil,
          "key" => "linear",
          "value" => "!inverse"
        },
        %{
          "comment" => nil,
          "key" => "inverse",
          "value" => "inverse"
        },
        %{
          "comment" => nil,
          "key" => "taker",
          "value" => "this.parseNumber (this.fromEn (takerFeeRateEr, ratioScale))"
        },
        %{
          "comment" => nil,
          "key" => "maker",
          "value" => "this.parseNumber (this.fromEn (makerFeeRateEr, ratioScale))"
        },
        %{
          "comment" => nil,
          "key" => "contractSize",
          "value" => "contractSize"
        },
        %{
          "comment" => nil,
          "key" => "expiry",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "expiryDatetime",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "strike",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "optionType",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "priceScale",
          "value" => "priceScale"
        },
        %{
          "comment" => nil,
          "key" => "valueScale",
          "value" => "valueScale"
        },
        %{
          "comment" => nil,
          "key" => "ratioScale",
          "value" => "ratioScale"
        },
        %{
          "comment" => nil,
          "key" => "precision",
          "value" => "{\n                'amount': this.safeNumber2 (market, 'lotSize', 'qtyStepSize'),\n                'price': this.safeNumber (market, 'tickSize'),\n            }"
        },
        %{
          "comment" => nil,
          "key" => "limits",
          "value" => "{\n                'leverage': {\n                    'min': this.parseNumber ('1'),\n                    'max': this.safeNumber (market, 'maxLeverage'),\n                },\n                'amount': {\n                    'min': undefined,\n                    'max': undefined,\n                },\n                'price': {\n                    'min': this.parseNumber (this.fromEn (minPriceEp, priceScale)),\n                    'max': this.parseNumber (this.fromEn (maxPriceEp, priceScale)),\n                },\n                'cost': {\n                    'min': undefined,\n                    'max': this.parseNumber (this.safeString (market, 'maxOrderQty')),\n                },\n            }"
        },
        %{
          "comment" => nil,
          "key" => "created",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "info",
          "value" => "market"
        },
        %{
          "comment" => nil,
          "key" => "leverage",
          "value" => "{\n                    'min': this.parseNumber ('1'),\n                    'max': this.safeNumber (market, 'maxLeverage'),\n                }"
        },
        %{
          "comment" => nil,
          "key" => "amount",
          "value" => "{\n                    'min': undefined,\n                    'max': undefined,\n                }"
        },
        %{
          "comment" => nil,
          "key" => "price",
          "value" => "{\n                    'min': this.parseNumber (this.fromEn (minPriceEp, priceScale)),\n                    'max': this.parseNumber (this.fromEn (maxPriceEp, priceScale)),\n                }"
        },
        %{
          "comment" => nil,
          "key" => "cost",
          "value" => "{\n                    'min': undefined,\n                    'max': this.parseNumber (this.safeString (market, 'maxOrderQty')),\n                }"
        },
        %{
          "comment" => nil,
          "key" => "min",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "max",
          "value" => "undefined"
        }
      ],
      "name" => "parseSwapMarket",
      "signature" => "parseSwapMarket (market: Dict)",
      "source" => "parseSwapMarket (market: Dict) {\n        //\n        //     {\n        //         \"symbol\":\"BTCUSD\", //\n        //         \"code\":\"1\",\n        //         \"type\":\"Perpetual\",\n        //         \"displaySymbol\":\"BTC / USD\",\n        //         \"indexSymbol\":\".BTC\",\n        //         \"markSymbol\":\".MBTC\",\n        //         \"fundingRateSymbol\":\".BTCFR\",\n        //         \"fundingRate8hSymbol\":\".BTCFR8H\",\n        //         \"contractUnderlyingAssets\":\"USD\", // or eg. `1000 SHIB`\n        //         \"settleCurrency\":\"BTC\",\n        //         \"quoteCurrency\":\"USD\",\n        //         \"contractSize\":\"1 USD\",\n        //         \"lotSize\":1,\n        //         \"tickSize\":0.5,\n        //         \"priceScale\":4,\n        //         \"ratioScale\":8,\n        //         \"pricePrecision\":1,\n        //         \"minPriceEp\":5000,\n        //         \"maxPriceEp\":10000000000,\n        //         \"maxOrderQty\":1000000,\n        //         \"status\":\"Listed\",\n        //         \"tipOrderQty\":1000000,\n        //         \"listTime\":\"1574650800000\",\n        //         \"majorSymbol\":true,\n        //         \"steps\":\"50\",\n        //         \"riskLimits\":[\n        //             {\"limit\":100,\"initialMargin\":\"1.0%\",\"initialMarginEr\":1000000,\"maintenanceMargin\":\"0.5%\",\"maintenanceMarginEr\":500000},\n        //             {\"limit\":150,\"initialMargin\":\"1.5%\",\"initialMarginEr\":1500000,\"maintenanceMargin\":\"1.0%\",\"maintenanceMarginEr\":1000000},\n        //             {\"limit\":200,\"initialMargin\":\"2.0%\",\"initialMarginEr\":2000000,\"maintenanceMargin\":\"1.5%\",\"maintenanceMarginEr\":1500000},\n        //         ],\n        //         \"underlyingSymbol\":\".BTC\",\n        //         \"baseCurrency\":\"BTC\",\n        //         \"settlementCurrency\":\"BTC\",\n        //         \"valueScale\":8,\n        //         \"defaultLeverage\":0,\n        //         \"maxLeverage\":100,\n        //         \"initMarginEr\":\"1000000\",\n        //         \"maintMarginEr\":\"500000\",\n        //         \"defaultRiskLimitEv\":10000000000,\n        //         \"deleverage\":true,\n        //         \"makerFeeRateEr\":-250000,\n        //         \"takerFeeRateEr\":750000,\n        //         \"fundingInterval\":8,\n        //         \"marketUrl\":\"https://phemex.com/trade/BTCUSD\",\n        //         \"description\":\"BTCUSD is a BTC/USD perpetual contract priced on the .BTC Index. Each contract is worth 1 USD of Bitcoin. Funding is paid and received every 8 hours. At UTC time: 00:00, 08:00, 16:00.\",\n        //     }\n        //\n        const id = this.safeString (market, 'symbol');\n        const contractUnderlyingAssets = this.safeString (market, 'contractUnderlyingAssets');\n        const baseId = this.safeString (market, 'baseCurrency', contractUnderlyingAssets);\n        const quoteId = this.safeString (market, 'quoteCurrency');\n        const settleId = this.safeString (market, 'settleCurrency');\n        let base = this.safeCurrencyCode (baseId);\n        base = base.replace (' ', ''); // replace space for junction codes, eg. `1000 SHIB`\n        const quote = this.safeCurrencyCode (quoteId);\n        const settle = this.safeCurrencyCode (settleId);\n        let inverse = false;\n        if (settleId !== quoteId) {\n            inverse = true;\n            // some unhandled cases\n            if (!('baseCurrency' in market) && base === quote) {\n                base = settle;\n            }\n        }\n        const priceScale = this.safeInteger (market, 'priceScale');\n        const ratioScale = this.safeInteger (market, 'ratioScale');\n        const valueScale = this.safeInteger (market, 'valueScale');\n        const minPriceEp = this.safeString (market, 'minPriceEp');\n        const maxPriceEp = this.safeString (market, 'maxPriceEp');\n        const makerFeeRateEr = this.safeString (market, 'makerFeeRateEr');\n        const takerFeeRateEr = this.safeString (market, 'takerFeeRateEr');\n        const status = this.safeString (market, 'status');\n        const contractSizeString = this.safeString (market, 'contractSize', ' ');\n        let contractSize: Num = undefined;\n        if (settle === 'USDT') {\n            contractSize = this.parseNumber ('1');\n        } else if (contractSizeString.indexOf (' ')) {\n            // \"1 USD\"\n            // \"0.005 ETH\"\n            const parts = contractSizeString.split (' ');\n            contractSize = this.parseNumber (parts[0]);\n        } else {\n            // \"1.0\"\n            contractSize = this.parseNumber (contractSizeString);\n        }\n        return this.safeMarketStructure ({\n            'id': id,\n            'symbol': base + '/' + quote + ':' + settle,\n            'base': base,\n            'quote': quote,\n            'settle': settle,\n            'baseId': baseId,\n            'quoteId': quoteId,\n            'settleId': settleId,\n            'type': 'swap',\n            'spot': false,\n            'margin': false,\n            'swap': true,\n            'future': false,\n            'option': false,\n            'active': status === 'Listed',\n            'contract': true,\n            'linear': !inverse,\n            'inverse': inverse,\n            'taker': this.parseNumber (this.fromEn (takerFeeRateEr, ratioScale)),\n            'maker': this.parseNumber (this.fromEn (makerFeeRateEr, ratioScale)),\n            'contractSize': contractSize,\n            'expiry': undefined,\n            'expiryDatetime': undefined,\n            'strike': undefined,\n            'optionType': undefined,\n            'priceScale': priceScale,\n            'valueScale': valueScale,\n            'ratioScale': ratioScale,\n            'precision': {\n                'amount': this.safeNumber2 (market, 'lotSize', 'qtyStepSize'),\n                'price': this.safeNumber (market, 'tickSize'),\n            },\n            'limits': {\n                'leverage': {\n                    'min': this.parseNumber ('1'),\n                    'max': this.safeNumber (market, 'maxLeverage'),\n                },\n                'amount': {\n                    'min': undefined,\n                    'max': undefined,\n                },\n                'price': {\n                    'min': this.parseNumber (this.fromEn (minPriceEp, priceScale)),\n                    'max': this.parseNumber (this.fromEn (maxPriceEp, priceScale)),\n                },\n                'cost': {\n                    'min': undefined,\n                    'max': this.parseNumber (this.safeString (market, 'maxOrderQty')),\n                },\n            },\n            'created': undefined,\n            'info': market,\n        });\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [
        "{\n         \"bizError\":0,\n         \"orderID\":\"7a1ad384-44a3-4e54-a102-de4195a29e32\",\n         \"clOrdID\":\"\",\n         \"symbol\":\"ETHUSD\",\n         \"side\":\"Buy\",\n         \"actionTimeNs\":1592668973945065381,\n         \"transactTimeNs\":0,\n         \"orderType\":\"Market\",\n         \"priceEp\":2267500,\n         \"price\":226.75000000,\n         \"orderQty\":1,\n         \"displayQty\":0,\n         \"timeInForce\":\"ImmediateOrCancel\",\n         \"reduceOnly\":false,\n         \"closedPnlEv\":0,\n         \"closedPnl\":0E-8,\n         \"closedSize\":0,\n         \"cumQty\":0,\n         \"cumValueEv\":0,\n         \"cumValue\":0E-8,\n         \"leavesQty\":1,\n         \"leavesValueEv\":11337,\n         \"leavesValue\":1.13370000,\n         \"stopDirection\":\"UNSPECIFIED\",\n         \"stopPxEp\":0,\n         \"stopPx\":0E-8,\n         \"trigger\":\"UNSPECIFIED\",\n         \"pegOffsetValueEp\":0,\n         \"execStatus\":\"PendingNew\",\n         \"pegPriceType\":\"UNSPECIFIED\",\n         \"ordStatus\":\"Created\",\n         \"execInst\": \"ReduceOnly\"\n     }",
        "{\n        \"bizError\":\"0\",\n        \"orderID\":\"bd720dff-5647-4596-aa4e-656bac87aaad\",\n        \"clOrdID\":\"ccxt2022843dffac9477b497\",\n        \"symbol\":\"LTCUSDT\",\n        \"side\":\"Buy\",\n        \"actionTimeNs\":\"1677667878751724052\",\n        \"transactTimeNs\":\"1677667878754017434\",\n        \"orderType\":\"Limit\",\n        \"priceRp\":\"40\",\n        \"orderQtyRq\":\"0.1\",\n        \"displayQtyRq\":\"0.1\",\n        \"timeInForce\":\"GoodTillCancel\",\n        \"reduceOnly\":false,\n        \"closedPnlRv\":\"0\",\n        \"closedSizeRq\":\"0\",\n        \"cumQtyRq\":\"0\",\n        \"cumValueRv\":\"0\",\n        \"leavesQtyRq\":\"0.1\",\n        \"leavesValueRv\":\"4\",\n        \"stopDirection\":\"UNSPECIFIED\",\n        \"stopPxRp\":\"0\",\n        \"trigger\":\"UNSPECIFIED\",\n        \"pegOffsetValueRp\":\"0\",\n        \"pegOffsetProportionRr\":\"0\",\n        \"execStatus\":\"New\",\n        \"pegPriceType\":\"UNSPECIFIED\",\n        \"ordStatus\":\"New\",\n        \"execInst\":\"None\",\n        \"takeProfitRp\":\"0\",\n        \"stopLossRp\":\"0\"\n     }",
        "{\n        \"createdAt\":\"1677686231301\",\n        \"symbol\":\"LTCUSDT\",\n        \"orderQtyRq\":\"0.2\",\n        \"side\":\"1\",\n        \"posSide\":\"3\",\n        \"priceRp\":\"50\",\n        \"execQtyRq\":\"0\",\n        \"leavesQtyRq\":\"0.2\",\n        \"execPriceRp\":\"0\",\n        \"orderValueRv\":\"10\",\n        \"leavesValueRv\":\"10\",\n        \"cumValueRv\":\"0\",\n        \"stopDirection\":\"0\",\n        \"stopPxRp\":\"0\",\n        \"trigger\":\"0\",\n        \"actionBy\":\"1\",\n        \"execFeeRv\":\"0\",\n        \"ordType\":\"2\",\n        \"ordStatus\":\"5\",\n        \"clOrdId\":\"4b3b188\",\n        \"orderId\":\"4b3b1884-87cf-4897-b596-6693b7ed84d1\",\n        \"execStatus\":\"5\",\n        \"bizError\":\"0\",\n        \"totalPnlRv\":null,\n        \"avgTransactPriceRp\":null,\n        \"orderDetailsVos\":null,\n        \"tradeType\":\"0\"\n    }"
      ],
      "line_end" => 2614,
      "line_start" => 2435,
      "mappings" => [
        %{
          "comment" => nil,
          "key" => "info",
          "value" => "order"
        },
        %{
          "comment" => nil,
          "key" => "id",
          "value" => "id"
        },
        %{
          "comment" => nil,
          "key" => "clientOrderId",
          "value" => "clientOrderId"
        },
        %{
          "comment" => nil,
          "key" => "datetime",
          "value" => "this.iso8601 (timestamp)"
        },
        %{
          "comment" => nil,
          "key" => "timestamp",
          "value" => "timestamp"
        },
        %{
          "comment" => nil,
          "key" => "lastTradeTimestamp",
          "value" => "lastTradeTimestamp"
        },
        %{
          "comment" => nil,
          "key" => "symbol",
          "value" => "symbol"
        },
        %{
          "comment" => nil,
          "key" => "type",
          "value" => "type"
        },
        %{
          "comment" => nil,
          "key" => "timeInForce",
          "value" => "timeInForce"
        },
        %{
          "comment" => nil,
          "key" => "postOnly",
          "value" => "postOnly"
        },
        %{
          "comment" => nil,
          "key" => "reduceOnly",
          "value" => "reduceOnly"
        },
        %{
          "comment" => nil,
          "key" => "side",
          "value" => "side"
        },
        %{
          "comment" => nil,
          "key" => "price",
          "value" => "price"
        },
        %{
          "comment" => nil,
          "key" => "triggerPrice",
          "value" => "triggerPrice"
        },
        %{
          "comment" => nil,
          "key" => "takeProfitPrice",
          "value" => "takeProfit"
        },
        %{
          "comment" => nil,
          "key" => "stopLossPrice",
          "value" => "stopLoss"
        },
        %{
          "comment" => nil,
          "key" => "amount",
          "value" => "amount"
        },
        %{
          "comment" => nil,
          "key" => "filled",
          "value" => "filled"
        },
        %{
          "comment" => nil,
          "key" => "remaining",
          "value" => "remaining"
        },
        %{
          "comment" => nil,
          "key" => "cost",
          "value" => "cost"
        },
        %{
          "comment" => nil,
          "key" => "average",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "status",
          "value" => "status"
        },
        %{
          "comment" => nil,
          "key" => "fee",
          "value" => "fee"
        },
        %{
          "comment" => nil,
          "key" => "trades",
          "value" => "undefined"
        }
      ],
      "name" => "parseSwapOrder",
      "signature" => "parseSwapOrder (order, market: Market = undefined)",
      "source" => "parseSwapOrder (order, market: Market = undefined) {\n        //\n        //     {\n        //         \"bizError\":0,\n        //         \"orderID\":\"7a1ad384-44a3-4e54-a102-de4195a29e32\",\n        //         \"clOrdID\":\"\",\n        //         \"symbol\":\"ETHUSD\",\n        //         \"side\":\"Buy\",\n        //         \"actionTimeNs\":1592668973945065381,\n        //         \"transactTimeNs\":0,\n        //         \"orderType\":\"Market\",\n        //         \"priceEp\":2267500,\n        //         \"price\":226.75000000,\n        //         \"orderQty\":1,\n        //         \"displayQty\":0,\n        //         \"timeInForce\":\"ImmediateOrCancel\",\n        //         \"reduceOnly\":false,\n        //         \"closedPnlEv\":0,\n        //         \"closedPnl\":0E-8,\n        //         \"closedSize\":0,\n        //         \"cumQty\":0,\n        //         \"cumValueEv\":0,\n        //         \"cumValue\":0E-8,\n        //         \"leavesQty\":1,\n        //         \"leavesValueEv\":11337,\n        //         \"leavesValue\":1.13370000,\n        //         \"stopDirection\":\"UNSPECIFIED\",\n        //         \"stopPxEp\":0,\n        //         \"stopPx\":0E-8,\n        //         \"trigger\":\"UNSPECIFIED\",\n        //         \"pegOffsetValueEp\":0,\n        //         \"execStatus\":\"PendingNew\",\n        //         \"pegPriceType\":\"UNSPECIFIED\",\n        //         \"ordStatus\":\"Created\",\n        //         \"execInst\": \"ReduceOnly\"\n        //     }\n        //\n        // usdt\n        // {\n        //        \"bizError\":\"0\",\n        //        \"orderID\":\"bd720dff-5647-4596-aa4e-656bac87aaad\",\n        //        \"clOrdID\":\"ccxt2022843dffac9477b497\",\n        //        \"symbol\":\"LTCUSDT\",\n        //        \"side\":\"Buy\",\n        //        \"actionTimeNs\":\"1677667878751724052\",\n        //        \"transactTimeNs\":\"1677667878754017434\",\n        //        \"orderType\":\"Limit\",\n        //        \"priceRp\":\"40\",\n        //        \"orderQtyRq\":\"0.1\",\n        //        \"displayQtyRq\":\"0.1\",\n        //        \"timeInForce\":\"GoodTillCancel\",\n        //        \"reduceOnly\":false,\n        //        \"closedPnlRv\":\"0\",\n        //        \"closedSizeRq\":\"0\",\n        //        \"cumQtyRq\":\"0\",\n        //        \"cumValueRv\":\"0\",\n        //        \"leavesQtyRq\":\"0.1\",\n        //        \"leavesValueRv\":\"4\",\n        //        \"stopDirection\":\"UNSPECIFIED\",\n        //        \"stopPxRp\":\"0\",\n        //        \"trigger\":\"UNSPECIFIED\",\n        //        \"pegOffsetValueRp\":\"0\",\n        //        \"pegOffsetProportionRr\":\"0\",\n        //        \"execStatus\":\"New\",\n        //        \"pegPriceType\":\"UNSPECIFIED\",\n        //        \"ordStatus\":\"New\",\n        //        \"execInst\":\"None\",\n        //        \"takeProfitRp\":\"0\",\n        //        \"stopLossRp\":\"0\"\n        //     }\n        //\n        // v2 orderList\n        //    {\n        //        \"createdAt\":\"1677686231301\",\n        //        \"symbol\":\"LTCUSDT\",\n        //        \"orderQtyRq\":\"0.2\",\n        //        \"side\":\"1\",\n        //        \"posSide\":\"3\",\n        //        \"priceRp\":\"50\",\n        //        \"execQtyRq\":\"0\",\n        //        \"leavesQtyRq\":\"0.2\",\n        //        \"execPriceRp\":\"0\",\n        //        \"orderValueRv\":\"10\",\n        //        \"leavesValueRv\":\"10\",\n        //        \"cumValueRv\":\"0\",\n        //        \"stopDirection\":\"0\",\n        //        \"stopPxRp\":\"0\",\n        //        \"trigger\":\"0\",\n        //        \"actionBy\":\"1\",\n        //        \"execFeeRv\":\"0\",\n        //        \"ordType\":\"2\",\n        //        \"ordStatus\":\"5\",\n        //        \"clOrdId\":\"4b3b188\",\n        //        \"orderId\":\"4b3b1884-87cf-4897-b596-6693b7ed84d1\",\n        //        \"execStatus\":\"5\",\n        //        \"bizError\":\"0\",\n        //        \"totalPnlRv\":null,\n        //        \"avgTransactPriceRp\":null,\n        //        \"orderDetailsVos\":null,\n        //        \"tradeType\":\"0\"\n        //    }\n        //\n        const id = this.safeString2 (order, 'orderID', 'orderId');\n        let clientOrderId = this.safeString2 (order, 'clOrdID', 'clOrdId');\n        if ((clientOrderId !== undefined) && (clientOrderId.length < 1)) {\n            clientOrderId = undefined;\n        }\n        const marketId = this.safeString (order, 'symbol');\n        const symbol = this.safeSymbol (marketId, market);\n        market = this.safeMarket (marketId, market);\n        const status = this.parseOrderStatus (this.safeString (order, 'ordStatus'));\n        const side = this.parseOrderSide (this.safeStringLower (order, 'side'));\n        const type = this.parseOrderType (this.safeString (order, 'orderType'));\n        let price = this.safeString (order, 'priceRp');\n        if (price === undefined) {\n            price = this.fromEp (this.safeString (order, 'priceEp'), market);\n        }\n        const amount = this.safeNumber2 (order, 'orderQty', 'orderQtyRq');\n        const filled = this.safeNumber2 (order, 'cumQty', 'cumQtyRq');\n        const remaining = this.safeNumber2 (order, 'leavesQty', 'leavesQtyRq');\n        let timestamp = this.safeIntegerProduct (order, 'actionTimeNs', 0.000001);\n        if (timestamp === undefined) {\n            timestamp = this.safeInteger (order, 'createdAt');\n        }\n        const cost = this.safeNumber2 (order, 'cumValue', 'cumValueRv');\n        let lastTradeTimestamp = this.safeIntegerProduct (order, 'transactTimeNs', 0.000001);\n        if (lastTradeTimestamp === 0) {\n            lastTradeTimestamp = undefined;\n        }\n        const timeInForce = this.parseTimeInForce (this.safeString (order, 'timeInForce'));\n        const triggerPrice = this.omitZero (this.safeString2 (order, 'stopPx', 'stopPxRp'));\n        const postOnly = (timeInForce === 'PO');\n        let reduceOnly = this.safeValue (order, 'reduceOnly');\n        const execInst = this.safeString (order, 'execInst');\n        if (execInst === 'ReduceOnly') {\n            reduceOnly = true;\n        }\n        const takeProfit = this.safeString (order, 'takeProfitRp');\n        const stopLoss = this.safeString (order, 'stopLossRp');\n        const feeValue = this.omitZero (this.safeString (order, 'execFeeRv'));\n        const ptFeeRv = this.omitZero (this.safeString (order, 'ptFeeRv'));\n        let fee = undefined;\n        if (feeValue !== undefined) {\n            fee = {\n                'cost': feeValue,\n                'currency': market['quote'],\n            };\n        } else if (ptFeeRv !== undefined) {\n            fee = {\n                'cost': ptFeeRv,\n                'currency': 'PT',\n            };\n        }\n        return this.safeOrder ({\n            'info': order,\n            'id': id,\n            'clientOrderId': clientOrderId,\n            'datetime': this.iso8601 (timestamp),\n            'timestamp': timestamp,\n            'lastTradeTimestamp': lastTradeTimestamp,\n            'symbol': symbol,\n            'type': type,\n            'timeInForce': timeInForce,\n            'postOnly': postOnly,\n            'reduceOnly': reduceOnly,\n            'side': side,\n            'price': price,\n            'triggerPrice': triggerPrice,\n            'takeProfitPrice': takeProfit,\n            'stopLossPrice': stopLoss,\n            'amount': amount,\n            'filled': filled,\n            'remaining': remaining,\n            'cost': cost,\n            'average': undefined,\n            'status': status,\n            'fee': fee,\n            'trades': undefined,\n        });\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [
        "{\n         \"askEp\": 943836000000,\n         \"bidEp\": 943601000000,\n         \"highEp\": 955946000000,\n         \"lastEp\": 943803000000,\n         \"lowEp\": 924973000000,\n         \"openEp\": 948693000000,\n         \"symbol\": \"sBTCUSDT\",\n         \"timestamp\": 1592471203505728630,\n         \"turnoverEv\": 111822826123103,\n         \"volumeEv\": 11880532281\n     }",
        "{\n         \"askEp\": 2332500,\n         \"bidEp\": 2331000,\n         \"fundingRateEr\": 10000,\n         \"highEp\": 2380000,\n         \"indexEp\": 2329057,\n         \"lastEp\": 2331500,\n         \"lowEp\": 2274000,\n         \"markEp\": 2329232,\n         \"openEp\": 2337500,\n         \"openInterest\": 1298050,\n         \"predFundingRateEr\": 19921,\n         \"symbol\": \"ETHUSD\",\n         \"timestamp\": 1592474241582701416,\n         \"turnoverEv\": 47228362330,\n         \"volume\": 4053863\n     }",
        "{\n         \"closeRp\":\"16820.5\",\n         \"fundingRateRr\":\"0.0001\",\n         \"highRp\":\"16962.1\",\n         \"indexPriceRp\":\"16830.15651565\",\n         \"lowRp\":\"16785\",\n         \"markPriceRp\":\"16830.97534951\",\n         \"openInterestRv\":\"1323.596\",\n         \"openRp\":\"16851.7\",\n         \"predFundingRateRr\":\"0.0001\",\n         \"symbol\":\"BTCUSDT\",\n         \"timestamp\":\"1672142789065593096\",\n         \"turnoverRv\":\"124835296.0538\",\n         \"volumeRq\":\"7406.95\"\n     }"
      ],
      "line_end" => 1534,
      "line_start" => 1447,
      "mappings" => [
        %{
          "comment" => nil,
          "key" => "symbol",
          "value" => "symbol"
        },
        %{
          "comment" => nil,
          "key" => "timestamp",
          "value" => "timestamp"
        },
        %{
          "comment" => nil,
          "key" => "datetime",
          "value" => "this.iso8601 (timestamp)"
        },
        %{
          "comment" => nil,
          "key" => "high",
          "value" => "this.fromEp (this.safeString2 (ticker, 'highEp', 'highRp'), market)"
        },
        %{
          "comment" => nil,
          "key" => "low",
          "value" => "this.fromEp (this.safeString2 (ticker, 'lowEp', 'lowRp'), market)"
        },
        %{
          "comment" => nil,
          "key" => "bid",
          "value" => "this.fromEp (this.safeString (ticker, 'bidEp'), market)"
        },
        %{
          "comment" => nil,
          "key" => "bidVolume",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "ask",
          "value" => "this.fromEp (this.safeString (ticker, 'askEp'), market)"
        },
        %{
          "comment" => nil,
          "key" => "askVolume",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "vwap",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "open",
          "value" => "open"
        },
        %{
          "comment" => nil,
          "key" => "close",
          "value" => "last"
        },
        %{
          "comment" => nil,
          "key" => "last",
          "value" => "last"
        },
        %{
          "comment" => nil,
          "key" => "previousClose",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "percentage",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "average",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "baseVolume",
          "value" => "baseVolume"
        },
        %{
          "comment" => nil,
          "key" => "quoteVolume",
          "value" => "quoteVolume"
        },
        %{
          "comment" => nil,
          "key" => "info",
          "value" => "ticker"
        }
      ],
      "name" => "parseTicker",
      "signature" => "parseTicker (ticker: Dict, market: Market = undefined): Ticker",
      "source" => "parseTicker (ticker: Dict, market: Market = undefined): Ticker {\n        //\n        // spot\n        //\n        //     {\n        //         \"askEp\": 943836000000,\n        //         \"bidEp\": 943601000000,\n        //         \"highEp\": 955946000000,\n        //         \"lastEp\": 943803000000,\n        //         \"lowEp\": 924973000000,\n        //         \"openEp\": 948693000000,\n        //         \"symbol\": \"sBTCUSDT\",\n        //         \"timestamp\": 1592471203505728630,\n        //         \"turnoverEv\": 111822826123103,\n        //         \"volumeEv\": 11880532281\n        //     }\n        //\n        // swap\n        //\n        //     {\n        //         \"askEp\": 2332500,\n        //         \"bidEp\": 2331000,\n        //         \"fundingRateEr\": 10000,\n        //         \"highEp\": 2380000,\n        //         \"indexEp\": 2329057,\n        //         \"lastEp\": 2331500,\n        //         \"lowEp\": 2274000,\n        //         \"markEp\": 2329232,\n        //         \"openEp\": 2337500,\n        //         \"openInterest\": 1298050,\n        //         \"predFundingRateEr\": 19921,\n        //         \"symbol\": \"ETHUSD\",\n        //         \"timestamp\": 1592474241582701416,\n        //         \"turnoverEv\": 47228362330,\n        //         \"volume\": 4053863\n        //     }\n        // linear swap v2\n        //\n        //     {\n        //         \"closeRp\":\"16820.5\",\n        //         \"fundingRateRr\":\"0.0001\",\n        //         \"highRp\":\"16962.1\",\n        //         \"indexPriceRp\":\"16830.15651565\",\n        //         \"lowRp\":\"16785\",\n        //         \"markPriceRp\":\"16830.97534951\",\n        //         \"openInterestRv\":\"1323.596\",\n        //         \"openRp\":\"16851.7\",\n        //         \"predFundingRateRr\":\"0.0001\",\n        //         \"symbol\":\"BTCUSDT\",\n        //         \"timestamp\":\"1672142789065593096\",\n        //         \"turnoverRv\":\"124835296.0538\",\n        //         \"volumeRq\":\"7406.95\"\n        //     }\n        //\n        const marketId = this.safeString (ticker, 'symbol');\n        market = this.safeMarket (marketId, market);\n        const symbol = market['symbol'];\n        const timestamp = this.safeIntegerProduct (ticker, 'timestamp', 0.000001);\n        const last = this.fromEp (this.safeString2 (ticker, 'lastEp', 'closeRp'), market);\n        const quoteVolume = this.fromEr (this.safeString2 (ticker, 'turnoverEv', 'turnoverRv'), market);\n        let baseVolume = this.safeString (ticker, 'volume');\n        if (baseVolume === undefined) {\n            baseVolume = this.fromEv (this.safeString2 (ticker, 'volumeEv', 'volumeRq'), market);\n        }\n        const open = this.fromEp (this.safeString (ticker, 'openEp'), market);\n        return this.safeTicker ({\n            'symbol': symbol,\n            'timestamp': timestamp,\n            'datetime': this.iso8601 (timestamp),\n            'high': this.fromEp (this.safeString2 (ticker, 'highEp', 'highRp'), market),\n            'low': this.fromEp (this.safeString2 (ticker, 'lowEp', 'lowRp'), market),\n            'bid': this.fromEp (this.safeString (ticker, 'bidEp'), market),\n            'bidVolume': undefined,\n            'ask': this.fromEp (this.safeString (ticker, 'askEp'), market),\n            'askVolume': undefined,\n            'vwap': undefined,\n            'open': open,\n            'close': last,\n            'last': last,\n            'previousClose': undefined, // previous day close\n            'change': undefined,\n            'percentage': undefined,\n            'average': undefined,\n            'baseVolume': baseVolume,\n            'quoteVolume': quoteVolume,\n            'info': ticker,\n        }, market);\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [],
      "line_end" => 2314,
      "line_start" => 2306,
      "mappings" => [],
      "name" => "parseTimeInForce",
      "signature" => "parseTimeInForce (timeInForce: Str)",
      "source" => "parseTimeInForce (timeInForce: Str) {\n        const timeInForces: Dict = {\n            'GoodTillCancel': 'GTC',\n            'PostOnly': 'PO',\n            'ImmediateOrCancel': 'IOC',\n            'FillOrKill': 'FOK',\n        };\n        return this.safeString (timeInForces, timeInForce, timeInForce);\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [
        "[\n         1592541746712239749,\n         13156448570000,\n         \"Buy\",\n         93070000,\n         40173\n     ]",
        "[\n         1675690986063435800,\n         \"Sell\",\n         \"22857.4\",\n         \"0.269\"\n     ]",
        "{\n         \"qtyType\": \"ByQuote\",\n         \"transactTimeNs\": 1589450974800550100,\n         \"clOrdID\": \"8ba59d40-df25-d4b0-14cf-0703f44e9690\",\n         \"orderID\": \"b2b7018d-f02f-4c59-b4cf-051b9c2d2e83\",\n         \"symbol\": \"sBTCUSDT\",\n         \"side\": \"Buy\",\n         \"priceEP\": 970056000000,\n         \"baseQtyEv\": 0,\n         \"quoteQtyEv\": 1000000000,\n         \"action\": \"New\",\n         \"execStatus\": \"MakerFill\",\n         \"ordStatus\": \"Filled\",\n         \"ordType\": \"Limit\",\n         \"execInst\": \"None\",\n         \"timeInForce\": \"GoodTillCancel\",\n         \"stopDirection\": \"UNSPECIFIED\",\n         \"tradeType\": \"Trade\",\n         \"stopPxEp\": 0,\n         \"execId\": \"c6bd8979-07ba-5946-b07e-f8b65135dbb1\",\n         \"execPriceEp\": 970056000000,\n         \"execBaseQtyEv\": 103000,\n         \"execQuoteQtyEv\": 999157680,\n         \"leavesBaseQtyEv\": 0,\n         \"leavesQuoteQtyEv\": 0,\n         \"execFeeEv\": 0,\n         \"feeRateEr\": 0\n         \"baseCurrency\": \"BTC\",\n         \"quoteCurrency\": \"USDT\",\n         \"feeCurrency\": \"BTC\"\n     }",
        "{\n         \"transactTimeNs\": 1578026629824704800,\n         \"symbol\": \"BTCUSD\",\n         \"currency\": \"BTC\",\n         \"action\": \"Replace\",\n         \"side\": \"Sell\",\n         \"tradeType\": \"Trade\",\n         \"execQty\": 700,\n         \"execPriceEp\": 71500000,\n         \"orderQty\": 700,\n         \"priceEp\": 71500000,\n         \"execValueEv\": 9790209,\n         \"feeRateEr\": -25000,\n         \"execFeeEv\": -2447,\n         \"ordType\": \"Limit\",\n         \"execID\": \"b01671a1-5ddc-5def-b80a-5311522fd4bf\",\n         \"orderID\": \"b63bc982-be3a-45e0-8974-43d6375fb626\",\n         \"clOrdID\": \"uuid-1577463487504\",\n         \"execStatus\": \"MakerFill\"\n     }",
        "{\n         \"accountID\": 9328670003,\n         \"action\": \"New\",\n         \"actionBy\": \"ByUser\",\n         \"actionTimeNs\": 1666858780876924611,\n         \"addedSeq\": 77751555,\n         \"apRp\": \"0\",\n         \"bonusChangedAmountRv\": \"0\",\n         \"bpRp\": \"0\",\n         \"clOrdID\": \"c0327a7d-9064-62a9-28f6-2db9aaaa04e0\",\n         \"closedPnlRv\": \"0\",\n         \"closedSize\": \"0\",\n         \"code\": 0,\n         \"cumFeeRv\": \"0\",\n         \"cumQty\": \"0\",\n         \"cumValueRv\": \"0\",\n         \"curAccBalanceRv\": \"1508.489893982237\",\n         \"curAssignedPosBalanceRv\": \"24.62786650928\",\n         \"curBonusBalanceRv\": \"0\",\n         \"curLeverageRr\": \"-10\",\n         \"curPosSide\": \"Buy\",\n         \"curPosSize\": \"0.043\",\n         \"curPosTerm\": 1,\n         \"curPosValueRv\": \"894.0689\",\n         \"curRiskLimitRv\": \"1000000\",\n         \"currency\": \"USDT\",\n         \"cxlRejReason\": 0,\n         \"displayQty\": \"0.003\",\n         \"execFeeRv\": \"0\",\n         \"execID\": \"00000000-0000-0000-0000-000000000000\",\n         \"execPriceRp\": \"20723.7\",\n         \"execQty\": \"0\",\n         \"execSeq\": 77751555,\n         \"execStatus\": \"New\",\n         \"execValueRv\": \"0\",\n         \"feeRateRr\": \"0\",\n         \"leavesQty\": \"0.003\",\n         \"leavesValueRv\": \"63.4503\",\n         \"message\": \"No error\",\n         \"ordStatus\": \"New\",\n         \"ordType\": \"Market\",\n         \"orderID\": \"fa64c6f2-47a4-4929-aab4-b7fa9bbc4323\",\n         \"orderQty\": \"0.003\",\n         \"pegOffsetValueRp\": \"0\",\n         \"posSide\": \"Long\",\n         \"priceRp\": \"21150.1\",\n         \"relatedPosTerm\": 1,\n         \"relatedReqNum\": 11,\n         \"side\": \"Buy\",\n         \"slTrigger\": \"ByMarkPrice\",\n         \"stopLossRp\": \"0\",\n         \"stopPxRp\": \"0\",\n         \"symbol\": \"BTCUSDT\",\n         \"takeProfitRp\": \"0\",\n         \"timeInForce\": \"ImmediateOrCancel\",\n         \"tpTrigger\": \"ByLastPrice\",\n         \"tradeType\": \"Amend\",\n         \"transactTimeNs\": 1666858780881545305,\n         \"userID\": 932867\n     }"
      ],
      "line_end" => 1988,
      "line_start" => 1691,
      "mappings" => [
        %{
          "comment" => nil,
          "key" => "info",
          "value" => "trade"
        },
        %{
          "comment" => nil,
          "key" => "id",
          "value" => "id"
        },
        %{
          "comment" => nil,
          "key" => "symbol",
          "value" => "symbol"
        },
        %{
          "comment" => nil,
          "key" => "timestamp",
          "value" => "timestamp"
        },
        %{
          "comment" => nil,
          "key" => "datetime",
          "value" => "this.iso8601 (timestamp)"
        },
        %{
          "comment" => nil,
          "key" => "order",
          "value" => "orderId"
        },
        %{
          "comment" => nil,
          "key" => "type",
          "value" => "type"
        },
        %{
          "comment" => nil,
          "key" => "side",
          "value" => "side"
        },
        %{
          "comment" => nil,
          "key" => "takerOrMaker",
          "value" => "takerOrMaker"
        },
        %{
          "comment" => nil,
          "key" => "price",
          "value" => "priceString"
        },
        %{
          "comment" => nil,
          "key" => "amount",
          "value" => "amountString"
        },
        %{
          "comment" => nil,
          "key" => "cost",
          "value" => "costString"
        },
        %{
          "comment" => nil,
          "key" => "fee",
          "value" => "fee"
        }
      ],
      "name" => "parseTrade",
      "signature" => "parseTrade (trade: Dict, market: Market = undefined): Trade",
      "source" => "parseTrade (trade: Dict, market: Market = undefined): Trade {\n        //\n        // fetchTrades (public) spot & contract\n        //\n        //     [\n        //         1592541746712239749,\n        //         13156448570000,\n        //         \"Buy\",\n        //         93070000,\n        //         40173\n        //     ]\n        //\n        // fetchTrades (public) perp\n        //\n        //     [\n        //         1675690986063435800,\n        //         \"Sell\",\n        //         \"22857.4\",\n        //         \"0.269\"\n        //     ]\n        //\n        // fetchMyTrades (private)\n        //\n        // spot\n        //\n        //     {\n        //         \"qtyType\": \"ByQuote\",\n        //         \"transactTimeNs\": 1589450974800550100,\n        //         \"clOrdID\": \"8ba59d40-df25-d4b0-14cf-0703f44e9690\",\n        //         \"orderID\": \"b2b7018d-f02f-4c59-b4cf-051b9c2d2e83\",\n        //         \"symbol\": \"sBTCUSDT\",\n        //         \"side\": \"Buy\",\n        //         \"priceEP\": 970056000000,\n        //         \"baseQtyEv\": 0,\n        //         \"quoteQtyEv\": 1000000000,\n        //         \"action\": \"New\",\n        //         \"execStatus\": \"MakerFill\",\n        //         \"ordStatus\": \"Filled\",\n        //         \"ordType\": \"Limit\",\n        //         \"execInst\": \"None\",\n        //         \"timeInForce\": \"GoodTillCancel\",\n        //         \"stopDirection\": \"UNSPECIFIED\",\n        //         \"tradeType\": \"Trade\",\n        //         \"stopPxEp\": 0,\n        //         \"execId\": \"c6bd8979-07ba-5946-b07e-f8b65135dbb1\",\n        //         \"execPriceEp\": 970056000000,\n        //         \"execBaseQtyEv\": 103000,\n        //         \"execQuoteQtyEv\": 999157680,\n        //         \"leavesBaseQtyEv\": 0,\n        //         \"leavesQuoteQtyEv\": 0,\n        //         \"execFeeEv\": 0,\n        //         \"feeRateEr\": 0\n        //         \"baseCurrency\": \"BTC\",\n        //         \"quoteCurrency\": \"USDT\",\n        //         \"feeCurrency\": \"BTC\"\n        //     }\n        //\n        // swap\n        //\n        //     {\n        //         \"transactTimeNs\": 1578026629824704800,\n        //         \"symbol\": \"BTCUSD\",\n        //         \"currency\": \"BTC\",\n        //         \"action\": \"Replace\",\n        //         \"side\": \"Sell\",\n        //         \"tradeType\": \"Trade\",\n        //         \"execQty\": 700,\n        //         \"execPriceEp\": 71500000,\n        //         \"orderQty\": 700,\n        //         \"priceEp\": 71500000,\n        //         \"execValueEv\": 9790209,\n        //         \"feeRateEr\": -25000,\n        //         \"execFeeEv\": -2447,\n        //         \"ordType\": \"Limit\",\n        //         \"execID\": \"b01671a1-5ddc-5def-b80a-5311522fd4bf\",\n        //         \"orderID\": \"b63bc982-be3a-45e0-8974-43d6375fb626\",\n        //         \"clOrdID\": \"uuid-1577463487504\",\n        //         \"execStatus\": \"MakerFill\"\n        //     }\n        // perpetual\n        //     {\n        //         \"accountID\": 9328670003,\n        //         \"action\": \"New\",\n        //         \"actionBy\": \"ByUser\",\n        //         \"actionTimeNs\": 1666858780876924611,\n        //         \"addedSeq\": 77751555,\n        //         \"apRp\": \"0\",\n        //         \"bonusChangedAmountRv\": \"0\",\n        //         \"bpRp\": \"0\",\n        //         \"clOrdID\": \"c0327a7d-9064-62a9-28f6-2db9aaaa04e0\",\n        //         \"closedPnlRv\": \"0\",\n        //         \"closedSize\": \"0\",\n        //         \"code\": 0,\n        //         \"cumFeeRv\": \"0\",\n        //         \"cumQty\": \"0\",\n        //         \"cumValueRv\": \"0\",\n        //         \"curAccBalanceRv\": \"1508.489893982237\",\n        //         \"curAssignedPosBalanceRv\": \"24.62786650928\",\n        //         \"curBonusBalanceRv\": \"0\",\n        //         \"curLeverageRr\": \"-10\",\n        //         \"curPosSide\": \"Buy\",\n        //         \"curPosSize\": \"0.043\",\n        //         \"curPosTerm\": 1,\n        //         \"curPosValueRv\": \"894.0689\",\n        //         \"curRiskLimitRv\": \"1000000\",\n        //         \"currency\": \"USDT\",\n        //         \"cxlRejReason\": 0,\n        //         \"displayQty\": \"0.003\",\n        //         \"execFeeRv\": \"0\",\n        //         \"execID\": \"00000000-0000-0000-0000-000000000000\",\n        //         \"execPriceRp\": \"20723.7\",\n        //         \"execQty\": \"0\",\n        //         \"execSeq\": 77751555,\n        //         \"execStatus\": \"New\",\n        //         \"execValueRv\": \"0\",\n        //         \"feeRateRr\": \"0\",\n        //         \"leavesQty\": \"0.003\",\n        //         \"leavesValueRv\": \"63.4503\",\n        //         \"message\": \"No error\",\n        //         \"ordStatus\": \"New\",\n        //         \"ordType\": \"Market\",\n        //         \"orderID\": \"fa64c6f2-47a4-4929-aab4-b7fa9bbc4323\",\n        //         \"orderQty\": \"0.003\",\n        //         \"pegOffsetValueRp\": \"0\",\n        //         \"posSide\": \"Long\",\n        //         \"priceRp\": \"21150.1\",\n        //         \"relatedPosTerm\": 1,\n        //         \"relatedReqNum\": 11,\n        //         \"side\": \"Buy\",\n        //         \"slTrigger\": \"ByMarkPrice\",\n        //         \"stopLossRp\": \"0\",\n        //         \"stopPxRp\": \"0\",\n        //         \"symbol\": \"BTCUSDT\",\n        //         \"takeProfitRp\": \"0\",\n        //         \"timeInForce\": \"ImmediateOrCancel\",\n        //         \"tpTrigger\": \"ByLastPrice\",\n        //         \"tradeType\": \"Amend\",\n        //         \"transactTimeNs\": 1666858780881545305,\n        //         \"userID\": 932867\n        //     }\n        //\n        // swap - USDT\n        //\n        //     {\n        //         \"createdAt\": 1666226932259,\n        //         \"symbol\": \"ETHUSDT\",\n        //         \"currency\": \"USDT\",\n        //         \"action\": 1,\n        //         \"tradeType\": 1,\n        //         \"execQtyRq\": \"0.01\",\n        //         \"execPriceRp\": \"1271.9\",\n        //         \"side\": 1,\n        //         \"orderQtyRq\": \"0.78\",\n        //         \"priceRp\": \"1271.9\",\n        //         \"execValueRv\": \"12.719\",\n        //         \"feeRateRr\": \"0.0001\",\n        //         \"execFeeRv\": \"0.0012719\",\n        //         \"ordType\": 2,\n        //         \"execId\": \"8718cae\",\n        //         \"execStatus\": 6\n        //     }\n        // spot with fees paid using PT token\n        //     \"createdAt\": \"1714990724076\",\n        //     \"symbol\": \"BTCUSDT\",\n        //     \"currency\": \"USDT\",\n        //     \"action\": \"1\",\n        //     \"tradeType\": \"1\",\n        //     \"execQtyRq\": \"0.003\",\n        //     \"execPriceRp\": \"64935\",\n        //     \"side\": \"2\",\n        //     \"orderQtyRq\": \"0.003\",\n        //     \"priceRp\": \"51600\",\n        //     \"execValueRv\": \"194.805\",\n        //     \"feeRateRr\": \"0.000495\",\n        //     \"execFeeRv\": \"0\",\n        //     \"ordType\": \"3\",\n        //     \"execId\": \"XXXXXX\",\n        //     \"execStatus\": \"7\",\n        //     \"posSide\": \"1\",\n        //     \"ptFeeRv\": \"0.110012249248\",\n        //     \"ptPriceRp\": \"0.876524893\"\n        //\n        let priceString: Str;\n        let amountString: Str;\n        let timestamp: Int;\n        let id: Str = undefined;\n        let side: Str = undefined;\n        let costString: Str = undefined;\n        let type: Str = undefined;\n        let fee = undefined;\n        let feeCostString: Str = undefined;\n        let feeRateString: Str = undefined;\n        let feeCurrencyCode: Str = undefined;\n        const marketId = this.safeString (trade, 'symbol');\n        market = this.safeMarket (marketId, market);\n        const symbol = market['symbol'];\n        let orderId: Str = undefined;\n        let takerOrMaker: Str = undefined;\n        if (Array.isArray (trade)) {\n            const tradeLength = trade.length;\n            timestamp = this.safeIntegerProduct (trade, 0, 0.000001);\n            if (tradeLength > 4) {\n                id = this.safeString (trade, tradeLength - 4);\n            }\n            side = this.safeStringLower (trade, tradeLength - 3);\n            priceString = this.safeString (trade, tradeLength - 2);\n            amountString = this.safeString (trade, tradeLength - 1);\n            if (typeof trade[tradeLength - 2] === 'number') {\n                priceString = this.fromEp (priceString, market);\n                amountString = this.fromEv (amountString, market);\n            }\n        } else {\n            timestamp = this.safeIntegerProduct (trade, 'transactTimeNs', 0.000001);\n            if (timestamp === undefined) {\n                timestamp = this.safeInteger (trade, 'createdAt');\n            }\n            id = this.safeString2 (trade, 'execId', 'execID');\n            orderId = this.safeString (trade, 'orderID');\n            if (market['settle'] === 'USDT' || market['settle'] === 'USDC') {\n                const sideId = this.safeStringLower (trade, 'side');\n                if ((sideId === 'buy') || (sideId === 'sell')) {\n                    side = sideId;\n                } else if (sideId !== undefined) {\n                    side = (sideId === '1') ? 'buy' : 'sell';\n                }\n                const ordType = this.safeString (trade, 'ordType');\n                if (ordType === '1') {\n                    type = 'market';\n                } else if (ordType === '2') {\n                    type = 'limit';\n                }\n                priceString = this.safeString (trade, 'execPriceRp');\n                amountString = this.safeString (trade, 'execQtyRq');\n                costString = this.safeString (trade, 'execValueRv');\n                feeCostString = this.omitZero (this.safeString (trade, 'execFeeRv'));\n                feeRateString = this.safeString (trade, 'feeRateRr');\n                if (feeCostString !== undefined) {\n                    const currencyId = this.safeString (trade, 'currency');\n                    feeCurrencyCode = this.safeCurrencyCode (currencyId);\n                } else {\n                    const ptFeeRv = this.omitZero (this.safeString (trade, 'ptFeeRv'));\n                    if (ptFeeRv !== undefined) {\n                        feeCostString = ptFeeRv;\n                        feeCurrencyCode = 'PT';\n                    }\n                }\n            } else {\n                side = this.safeStringLower (trade, 'side');\n                type = this.parseOrderType (this.safeString (trade, 'ordType'));\n                const execStatus = this.safeString (trade, 'execStatus');\n                if (execStatus === 'MakerFill') {\n                    takerOrMaker = 'maker';\n                }\n                priceString = this.fromEp (this.safeString (trade, 'execPriceEp'), market);\n                amountString = this.fromEv (this.safeString (trade, 'execBaseQtyEv'), market);\n                amountString = this.safeString (trade, 'execQty', amountString);\n                costString = this.fromEr (this.safeString2 (trade, 'execQuoteQtyEv', 'execValueEv'), market);\n                feeCostString = this.fromEr (this.omitZero (this.safeString (trade, 'execFeeEv')), market);\n                if (feeCostString !== undefined) {\n                    feeRateString = this.fromEr (this.safeString (trade, 'feeRateEr'), market);\n                    if (market['spot']) {\n                        feeCurrencyCode = this.safeCurrencyCode (this.safeString (trade, 'feeCurrency'));\n                    } else {\n                        const info = this.safeValue (market, 'info');\n                        if (info !== undefined) {\n                            const settlementCurrencyId = this.safeString (info, 'settlementCurrency');\n                            feeCurrencyCode = this.safeCurrencyCode (settlementCurrencyId);\n                        }\n                    }\n                } else {\n                    feeCostString = this.safeString (trade, 'ptFeeRv');\n                    if (feeCostString !== undefined) {\n                        feeCurrencyCode = 'PT';\n                    }\n                }\n            }\n            fee = {\n                'cost': feeCostString,\n                'rate': feeRateString,\n                'currency': feeCurrencyCode,\n            };\n        }\n        return this.safeTrade ({\n            'info': trade,\n            'id': id,\n            'symbol': symbol,\n            'timestamp': timestamp,\n            'datetime': this.iso8601 (timestamp),\n            'order': orderId,\n            'type': type,\n            'side': side,\n            'takerOrMaker': takerOrMaker,\n            'price': priceString,\n            'amount': amountString,\n            'cost': costString,\n            'fee': fee,\n        }, market);\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [],
      "line_end" => 3783,
      "line_start" => 3666,
      "mappings" => [
        %{
          "comment" => nil,
          "key" => "info",
          "value" => "transaction"
        },
        %{
          "comment" => nil,
          "key" => "id",
          "value" => "id"
        },
        %{
          "comment" => nil,
          "key" => "txid",
          "value" => "txid"
        },
        %{
          "comment" => nil,
          "key" => "timestamp",
          "value" => "timestamp"
        },
        %{
          "comment" => nil,
          "key" => "datetime",
          "value" => "this.iso8601 (timestamp)"
        },
        %{
          "comment" => nil,
          "key" => "network",
          "value" => "this.networkIdToCode (networkId)"
        },
        %{
          "comment" => nil,
          "key" => "address",
          "value" => "address"
        },
        %{
          "comment" => nil,
          "key" => "addressTo",
          "value" => "address"
        },
        %{
          "comment" => nil,
          "key" => "addressFrom",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "tag",
          "value" => "tag"
        },
        %{
          "comment" => nil,
          "key" => "tagTo",
          "value" => "tag"
        },
        %{
          "comment" => nil,
          "key" => "tagFrom",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "type",
          "value" => "type"
        },
        %{
          "comment" => nil,
          "key" => "amount",
          "value" => "amount"
        },
        %{
          "comment" => nil,
          "key" => "currency",
          "value" => "code"
        },
        %{
          "comment" => nil,
          "key" => "status",
          "value" => "status"
        },
        %{
          "comment" => nil,
          "key" => "updated",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "comment",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "internal",
          "value" => "undefined"
        },
        %{
          "comment" => nil,
          "key" => "fee",
          "value" => "fee"
        }
      ],
      "name" => "parseTransaction",
      "signature" => "parseTransaction (transaction: Dict, currency: Currency = undefined): Transaction",
      "source" => "parseTransaction (transaction: Dict, currency: Currency = undefined): Transaction {\n        //\n        // withdraw\n        //\n        //     {\n        //         \"id\": \"10000001\",\n        //         \"freezeId\": null,\n        //         \"address\": \"44exxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\",\n        //         \"amountRv\": \"100\",\n        //         \"chainCode\": \"11\",\n        //         \"chainName\": \"TRX\",\n        //         \"currency\": \"USDT\",\n        //         \"currencyCode\": 3,\n        //         \"email\": \"abc@gmail.com\",\n        //         \"expiredTime\": \"0\",\n        //         \"feeRv\": \"1\",\n        //         \"nickName\": null,\n        //         \"phone\": null,\n        //         \"rejectReason\": \"\",\n        //         \"submitedAt\": \"1670000000000\",\n        //         \"submittedAt\": \"1670000000000\",\n        //         \"txHash\": null,\n        //         \"userId\": \"10000001\",\n        //         \"status\": \"Success\"\n        //\n        // fetchDeposits\n        //\n        //     {\n        //         \"id\": \"29200\",\n        //         \"currency\": \"USDT\",\n        //         \"currencyCode\": \"3\",\n        //         \"chainName\": \"ETH\",\n        //         \"chainCode\": \"4\",\n        //         \"txHash\": \"0x0bdbdc47807769a03b158d5753f54dfc58b92993d2f5e818db21863e01238e5d\",\n        //         \"address\": \"0x5bfbf60e0fa7f63598e6cfd8a7fd3ffac4ccc6ad\",\n        //         \"amountEv\": \"3000000000\",\n        //         \"confirmations\": \"13\",\n        //         \"type\": \"Deposit\",\n        //         \"status\": \"Success\",\n        //         \"createdAt\": \"1592722565000\",\n        //     }\n        //\n        // fetchWithdrawals\n        //\n        //     {\n        //         \"id\": \"10000001\",\n        //         \"userId\": \"10000001\",\n        //         \"freezeId\": \"10000002\",\n        //         \"phone\": null,\n        //         \"email\": \"abc@gmail.com\",\n        //         \"nickName\": null,\n        //         \"currency\": \"USDT\",\n        //         \"currencyCode\": \"3\",\n        //         \"status\": \"Succeed\",\n        //         \"withdrawStatus\": \"Succeed\",\n        //         \"amountEv\": \"8800000000\",\n        //         \"feeEv\": \"1200000000\",\n        //         \"address\": \"0x5xxxad\",\n        //         \"txHash: \"0x0xxxx5d\",\n        //         \"submitedAt\": \"1702571922000\",\n        //         \"submittedAt\": \"1702571922000\",\n        //         \"expiredTime\": \"0\",\n        //         \"rejectReason\": null,\n        //         \"chainName\": \"ETH\",\n        //         \"chainCode\": \"4\",\n        //         \"proxyAddress\": null\n        //     }\n        //\n        const id = this.safeString (transaction, 'id');\n        const address = this.safeString (transaction, 'address');\n        const tag = undefined;\n        const txid = this.safeString (transaction, 'txHash');\n        const currencyId = this.safeString (transaction, 'currency');\n        currency = this.safeCurrency (currencyId, currency);\n        const code = currency['code'];\n        const networkId = this.safeString (transaction, 'chainName');\n        const timestamp = this.safeIntegerN (transaction, [ 'createdAt', 'submitedAt', 'submittedAt' ]);\n        let type = this.safeStringLower (transaction, 'type');\n        let feeCost = this.parseNumber (this.fromEn (this.safeString (transaction, 'feeEv'), currency['valueScale']));\n        if (feeCost === undefined) {\n            feeCost = this.safeNumber (transaction, 'feeRv');\n        }\n        let fee = undefined;\n        if (feeCost !== undefined) {\n            type = 'withdrawal';\n            fee = {\n                'cost': feeCost,\n                'currency': code,\n            };\n        }\n        const status = this.parseTransactionStatus (this.safeString (transaction, 'status'));\n        let amount = this.parseNumber (this.fromEn (this.safeString (transaction, 'amountEv'), currency['valueScale']));\n        if (amount === undefined) {\n            amount = this.safeNumber (transaction, 'amountRv');\n        }\n        return {\n            'info': transaction,\n            'id': id,\n            'txid': txid,\n            'timestamp': timestamp,\n            'datetime': this.iso8601 (timestamp),\n            'network': this.networkIdToCode (networkId),\n            'address': address,\n            'addressTo': address,\n            'addressFrom': undefined,\n            'tag': tag,\n            'tagTo': tag,\n            'tagFrom': undefined,\n            'type': type,\n            'amount': amount,\n            'currency': code,\n            'status': status,\n            'updated': undefined,\n            'comment': undefined,\n            'internal': undefined,\n            'fee': fee,\n        } as Transaction;\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [],
      "line_end" => 3664,
      "line_start" => 3645,
      "mappings" => [],
      "name" => "parseTransactionStatus",
      "signature" => "parseTransactionStatus (status: Str)",
      "source" => "parseTransactionStatus (status: Str) {\n        const statuses: Dict = {\n            'Success': 'ok',\n            'Succeed': 'ok',\n            'Rejected': 'failed',\n            'Security check failed': 'failed',\n            'SecurityCheckFailed': 'failed',\n            'Expired': 'failed',\n            'Address Risk': 'failed',\n            'Security Checking': 'pending',\n            'SecurityChecking': 'pending',\n            'Pending Review': 'pending',\n            'Pending Transfer': 'pending',\n            'AmlCsApporve': 'pending',\n            'New': 'pending',\n            'Confirmed': 'pending',\n            'Cancelled': 'canceled',\n        };\n        return this.safeString (statuses, status, status);\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [
        "{\n         \"linkKey\": \"8564eba4-c9ec-49d6-9b8c-2ec5001a0fb9\",\n         \"userId\": \"4018340\",\n         \"currency\": \"USD\",\n         \"amountEv\": \"10\",\n         \"side\": \"2\",\n         \"status\": \"10\"\n     }",
        "{\n         \"linkKey\": \"87c071a3-8628-4ac2-aca1-6ce0d1fad66c\",\n         \"userId\": 4148428,\n         \"currency\": \"BTC\",\n         \"amountEv\": 67932,\n         \"side\": 2,\n         \"status\": 10,\n         \"createTime\": 1652832467000,\n         \"bizType\": 10\n     }"
      ],
      "line_end" => 4843,
      "line_start" => 4789,
      "mappings" => [
        %{
          "comment" => nil,
          "key" => "info",
          "value" => "transfer"
        },
        %{
          "comment" => nil,
          "key" => "id",
          "value" => "id"
        },
        %{
          "comment" => nil,
          "key" => "timestamp",
          "value" => "timestamp"
        },
        %{
          "comment" => nil,
          "key" => "datetime",
          "value" => "this.iso8601 (timestamp)"
        },
        %{
          "comment" => nil,
          "key" => "currency",
          "value" => "code"
        },
        %{
          "comment" => nil,
          "key" => "amount",
          "value" => "amountTransfered"
        },
        %{
          "comment" => nil,
          "key" => "fromAccount",
          "value" => "fromId"
        },
        %{
          "comment" => nil,
          "key" => "toAccount",
          "value" => "toId"
        },
        %{
          "comment" => nil,
          "key" => "status",
          "value" => "this.parseTransferStatus (status)"
        }
      ],
      "name" => "parseTransfer",
      "signature" => "parseTransfer (transfer: Dict, currency: Currency = undefined): TransferEntry",
      "source" => "parseTransfer (transfer: Dict, currency: Currency = undefined): TransferEntry {\n        //\n        // transfer\n        //\n        //     {\n        //         \"linkKey\": \"8564eba4-c9ec-49d6-9b8c-2ec5001a0fb9\",\n        //         \"userId\": \"4018340\",\n        //         \"currency\": \"USD\",\n        //         \"amountEv\": \"10\",\n        //         \"side\": \"2\",\n        //         \"status\": \"10\"\n        //     }\n        //\n        // fetchTransfers\n        //\n        //     {\n        //         \"linkKey\": \"87c071a3-8628-4ac2-aca1-6ce0d1fad66c\",\n        //         \"userId\": 4148428,\n        //         \"currency\": \"BTC\",\n        //         \"amountEv\": 67932,\n        //         \"side\": 2,\n        //         \"status\": 10,\n        //         \"createTime\": 1652832467000,\n        //         \"bizType\": 10\n        //     }\n        //\n        const id = this.safeString (transfer, 'linkKey');\n        const status = this.safeString (transfer, 'status');\n        const amountEv = this.safeString (transfer, 'amountEv');\n        const amountTransfered = this.fromEv (amountEv);\n        const currencyId = this.safeString (transfer, 'currency');\n        const code = this.safeCurrencyCode (currencyId, currency);\n        const side = this.safeInteger (transfer, 'side');\n        let fromId = undefined;\n        let toId = undefined;\n        if (side === 1) {\n            fromId = 'swap';\n            toId = 'spot';\n        } else if (side === 2) {\n            fromId = 'spot';\n            toId = 'swap';\n        }\n        const timestamp = this.safeInteger (transfer, 'createTime');\n        return {\n            'info': transfer,\n            'id': id,\n            'timestamp': timestamp,\n            'datetime': this.iso8601 (timestamp),\n            'currency': code,\n            'amount': amountTransfered,\n            'fromAccount': fromId,\n            'toAccount': toId,\n            'status': this.parseTransferStatus (status),\n        };\n    }"
    },
    %{
      "comment" => nil,
      "examples" => [],
      "line_end" => 4853,
      "line_start" => 4845,
      "mappings" => [],
      "name" => "parseTransferStatus",
      "signature" => "parseTransferStatus (status: Str): Str",
      "source" => "parseTransferStatus (status: Str): Str {\n        const statuses: Dict = {\n            '3': 'rejected', // 'Rejected',\n            '6': 'canceled', // 'Got error and wait for recovery',\n            '10': 'ok', // 'Success',\n            '11': 'failed', // 'Failed',\n        };\n        return this.safeString (statuses, status, status);\n    }"
    }
  ],
  path_prefix: "",
  pro: true,
  quote_json_numbers: nil,
  rate_limits: %{
    interval_ms: 121,
    period: 1000,
    requests: 8,
    rolling_window_size: 60000
  },
  raw_endpoints: %{
    private: [
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/api-data/spots/trades"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/api-data/futures/trading-fees"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/phemex-user/users/children"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/api-data/g-futures/trades"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/phemex-withdraw/wallets/api/asset/info"
      },
      %{
        auth: false,
        cost: 1,
        method: :get,
        path: "/orders/activeList"
      },
      %{
        auth: false,
        cost: 1,
        method: :get,
        path: "/spot/orders"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/assets/transfer"
      },
      %{
        auth: false,
        cost: 1,
        method: :get,
        path: "/g-accounts/risk-unit"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/api-data/futures/orders"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/spot/wallets"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/exchange/wallets/v2/depositAddress"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/phemex-user/order/closedPositionList"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/phemex-user/wallets/tradeAccountDetail"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/assets/convert"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/api-data/spots/orders/by-order-id"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/exchange/order/list"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/api-data/g-futures/orders"
      },
      %{
        auth: false,
        cost: 1,
        method: :get,
        path: "/accounts/accountPositions"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/exchange/margins/transfer"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/phemex-withdraw/wallets/api/withdrawHist"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/api-data/g-futures/trading-fees"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/exchange/order/trade"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/api-data/futures/trades"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/phemex-deposit/wallets/api/depositHist"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/api-data/g-futures/orders/by-order-id"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/assets/quote"
      },
      %{
        auth: false,
        cost: 1,
        method: :get,
        path: "/g-accounts/accountPositions"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/exchange/order"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/exchange/order/v2/orderList"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/api-data/g-futures/funding-fees"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/api-data/futures/funding-fees"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/exchange/wallets/confirm/withdraw"
      },
      %{
        auth: false,
        cost: 1,
        method: :get,
        path: "/g-orders/activeList"
      },
      %{
        auth: false,
        cost: 25,
        method: :get,
        path: "/g-accounts/positions"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/phemex-deposit/wallets/api/depositAddress"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/phemex-deposit/wallets/api/chainCfg"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/exchange/spot/order"
      },
      %{
        auth: false,
        cost: 1,
        method: :get,
        path: "/spot/orders/active"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/api-data/futures/v2/tradeAccountDetail"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/api-data/futures/orders/by-order-id"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/api-data/spots/pnls"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/exchange/order/v2/tradingList"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/phemex-user/wallets/v2/depositAddress"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/exchange/wallets/withdrawList"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/assets/spots/sub-accounts/transfer"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/api-data/spots/orders"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/exchange/wallets/depositList"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/api-data/spots/funds"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/assets/futures/sub-accounts/transfer"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/api-data/spots/trades/by-order-id"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/exchange/spot/order/trades"
      },
      %{
        auth: false,
        cost: 5,
        method: :post,
        path: "/assets/convert"
      },
      %{
        auth: false,
        cost: 5,
        method: :post,
        path: "/assets/futures/sub-accounts/transfer"
      },
      %{
        auth: false,
        cost: 5,
        method: :post,
        path: "/assets/spots/sub-accounts/transfer"
      },
      %{
        auth: false,
        cost: 5,
        method: :post,
        path: "/assets/transfer"
      },
      %{
        auth: false,
        cost: 5,
        method: :post,
        path: "/assets/universal-transfer"
      },
      %{
        auth: false,
        cost: 5,
        method: :post,
        path: "/exchange/margins"
      },
      %{
        auth: false,
        cost: 5,
        method: :post,
        path: "/exchange/wallets/cancelWithdraw"
      },
      %{
        auth: false,
        cost: 5,
        method: :post,
        path: "/exchange/wallets/createWithdraw"
      },
      %{
        auth: false,
        cost: 5,
        method: :post,
        path: "/exchange/wallets/createWithdrawAddress"
      },
      %{
        auth: false,
        cost: 5,
        method: :post,
        path: "/exchange/wallets/transferIn"
      },
      %{
        auth: false,
        cost: 5,
        method: :post,
        path: "/exchange/wallets/transferOut"
      },
      %{
        auth: false,
        cost: 1,
        method: :post,
        path: "/g-orders"
      },
      %{
        auth: false,
        cost: 1,
        method: :post,
        path: "/orders"
      },
      %{
        auth: false,
        cost: 5,
        method: :post,
        path: "/phemex-withdraw/wallets/api/cancelWithdraw"
      },
      %{
        auth: false,
        cost: 5,
        method: :post,
        path: "/phemex-withdraw/wallets/api/createWithdraw"
      },
      %{
        auth: false,
        cost: 5,
        method: :post,
        path: "/positions/assign"
      },
      %{
        auth: false,
        cost: 1,
        method: :post,
        path: "/spot/orders"
      },
      %{
        auth: false,
        cost: 1,
        method: :put,
        path: "/g-orders/create"
      },
      %{
        auth: false,
        cost: 1,
        method: :put,
        path: "/g-orders/replace"
      },
      %{
        auth: false,
        cost: 5,
        method: :put,
        path: "/g-positions/leverage"
      },
      %{
        auth: false,
        cost: 5,
        method: :put,
        path: "/g-positions/switch-pos-mode-sync"
      },
      %{
        auth: false,
        cost: 1,
        method: :put,
        path: "/orders/replace"
      },
      %{
        auth: false,
        cost: 5,
        method: :put,
        path: "/positions/leverage"
      },
      %{
        auth: false,
        cost: 5,
        method: :put,
        path: "/positions/riskLimit"
      },
      %{
        auth: false,
        cost: 1,
        method: :put,
        path: "/spot/orders"
      },
      %{
        auth: false,
        cost: 1,
        method: :put,
        path: "/spot/orders/create"
      },
      %{
        auth: false,
        cost: 1,
        method: :delete,
        path: "/g-orders"
      },
      %{
        auth: false,
        cost: 3,
        method: :delete,
        path: "/g-orders/all"
      },
      %{
        auth: false,
        cost: 1,
        method: :delete,
        path: "/g-orders/cancel"
      },
      %{
        auth: false,
        cost: 1,
        method: :delete,
        path: "/orders"
      },
      %{
        auth: false,
        cost: 3,
        method: :delete,
        path: "/orders/all"
      },
      %{
        auth: false,
        cost: 1,
        method: :delete,
        path: "/orders/cancel"
      },
      %{
        auth: false,
        cost: 2,
        method: :delete,
        path: "/spot/orders"
      },
      %{
        auth: false,
        cost: 2,
        method: :delete,
        path: "/spot/orders/all"
      }
    ],
    public: [
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/cfg/fundingRates"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/cfg/v2/products"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/exchange/public/cfg/chain-settings"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/md/kline"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/md/orderbook"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/md/spot/ticker/24hr"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/md/trade"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/md/v2/kline"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/md/v2/kline/last"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/md/v2/kline/list"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/nomics/trades"
      },
      %{
        auth: false,
        cost: 5,
        method: :get,
        path: "/products"
      }
    ]
  },
  required_credentials: %{
    api_key: true,
    password: false,
    secret: true,
    uid: false
  },
  requires_eddsa: false,
  response_error: nil,
  signing: %{
    confidence: :medium,
    pattern: :hmac_sha256_headers,
    signature_header: "x-phemex-request-signature"
  },
  spec_format_version: 1,
  status: %{
    "eta" => nil,
    "status" => "ok",
    "updated" => nil,
    "url" => nil
  },
  symbol_format: nil,
  symbol_formats: %{
    precision_mode: 4,
    sample_limits: %{
      "amount" => %{
        "max" => 10,
        "min" => 1.0e-6
      },
      "cost" => %{
        "max" => 500000,
        "min" => 1
      },
      "price" => %{
        "min" => 0.01
      }
    },
    sample_precision: %{
      "amount" => 1.0e-6,
      "price" => 0.01
    },
    spot: %{
      base: "BTC",
      base_id: "BTC",
      contract: false,
      id: "sBTCUSDT",
      limits: %{
        "amount" => %{
          "max" => 10,
          "min" => 1.0e-6
        },
        "cost" => %{
          "max" => 500000,
          "min" => 1
        },
        "leverage" => %{},
        "price" => %{
          "min" => 0.01
        }
      },
      maker: 0.001,
      precision: %{
        "amount" => 1.0e-6,
        "price" => 0.01
      },
      quote: "USDT",
      quote_id: "USDT",
      separator: "",
      symbol: "BTC/USDT",
      taker: 0.001
    },
    swap: %{
      base: "BTC",
      base_id: "BTC",
      case: :upper,
      contract: true,
      contract_size: 1,
      id: "BTCUSD",
      inverse: true,
      limits: %{
        "amount" => %{},
        "cost" => %{
          "max" => 1000000
        },
        "leverage" => %{
          "max" => 100,
          "min" => 1
        },
        "price" => %{
          "max" => 10000000000,
          "min" => 10
        }
      },
      linear: false,
      maker: -0.0025,
      precision: %{
        "amount" => 1,
        "price" => 0.5
      },
      quote: "USD",
      quote_id: "USD",
      separator: "",
      settle: "BTC",
      settle_id: "BTC",
      symbol: "BTC/USD:BTC",
      taker: 0.0075
    }
  },
  symbol_patterns: %{
    spot: %{
      case: :mixed,
      component_order: nil,
      date_format: nil,
      pattern: :no_separator_mixed,
      separator: "",
      suffix: nil
    },
    swap: %{
      case: :upper,
      component_order: nil,
      date_format: nil,
      pattern: :implicit,
      separator: "",
      suffix: nil
    }
  },
  timeframes: %{
    "12h" => "43200",
    "15m" => "900",
    "1M" => "2592000",
    "1Y" => "31104000",
    "1d" => "86400",
    "1h" => "3600",
    "1m" => "60",
    "1w" => "604800",
    "2h" => "7200",
    "30m" => "1800",
    "3M" => "7776000",
    "3h" => "10800",
    "3m" => "180",
    "4h" => "14400",
    "5m" => "300",
    "6h" => "21600"
  },
  url_strategy: %{
    detected_from: "fallback",
    pattern: :no_prefix,
    prefix: nil
  },
  urls: %{
    api: "https://api.phemex.com/exchange/public",
    doc: "https://phemex-docs.github.io/#overview",
    other: nil,
    sandbox: %{
      "private" => "https://testnet-api.phemex.com",
      "public" => "https://testnet-api.phemex.com/exchange/public",
      "v1" => "https://testnet-api.phemex.com/v1",
      "v2" => "https://testnet-api.phemex.com"
    },
    www: "https://phemex.com"
  },
  version: "v1",
  ws: %{
    auth: %{
      algorithm: :sha256,
      encoding: :hex,
      market_specific: false,
      message_format: :op_args,
      op_field: "op",
      op_value: "auth",
      pattern: :generic_hmac,
      payload_format: "custom",
      requires_passphrase: false,
      timestamp_unit: :seconds
    },
    channel_templates: %{
      watch_balance: %{
        market_id_format: :native,
        params: [
          %{
            "default" => nil,
            "name" => "settle"
          }
        ],
        pattern: :method_as_topic
      },
      watch_my_trades: %{
        market_id_format: :native,
        params: [
          %{
            "default" => nil,
            "name" => "settle"
          },
          %{
            "default" => nil,
            "name" => "limit"
          }
        ],
        pattern: :method_as_topic
      },
      watch_ohlcv: %{
        market_id_format: :native,
        params: [
          %{
            "default" => nil,
            "name" => "limit"
          }
        ],
        pattern: :method_as_topic
      },
      watch_order_book: %{
        market_id_format: :native,
        params: [
          %{
            "default" => nil,
            "name" => "limit"
          }
        ],
        pattern: :method_as_topic
      },
      watch_orders: %{
        market_id_format: :native,
        params: [
          %{
            "default" => nil,
            "name" => "settle"
          },
          %{
            "default" => nil,
            "name" => "limit"
          }
        ],
        pattern: :method_as_topic
      },
      watch_ticker: %{
        market_id_format: :native,
        params: [],
        pattern: :method_as_topic
      },
      watch_tickers: %{
        market_id_format: :native,
        params: [],
        pattern: :method_as_topic
      },
      watch_trades: %{
        market_id_format: :native,
        params: [
          %{
            "default" => nil,
            "name" => "limit"
          }
        ],
        pattern: :method_as_topic
      }
    },
    has: %{
      watch_balance: true,
      watch_bids_asks: nil,
      watch_liquidations: nil,
      watch_liquidations_for_symbols: nil,
      watch_my_liquidations: nil,
      watch_my_liquidations_for_symbols: nil,
      watch_my_trades: true,
      watch_ohlcv: true,
      watch_ohlcv_for_symbols: false,
      watch_order_book: true,
      watch_order_book_for_symbols: false,
      watch_orders: true,
      watch_orders_for_symbols: nil,
      watch_position: nil,
      watch_positions: nil,
      watch_status: nil,
      watch_ticker: true,
      watch_tickers: true,
      watch_trades: true,
      watch_trades_for_symbols: false
    },
    hostname: "api.phemex.com",
    message_patterns: [
      %{
        args_field: "params",
        format: :method,
        id_field: "id",
        keys: [
          "id",
          "method",
          "params"
        ],
        kind_field: "method",
        kind_value: "kline.subscribe",
        sources: [
          :send,
          :watch
        ]
      },
      %{
        args_field: "params",
        format: :method,
        id_field: "id",
        keys: [
          "id",
          "method",
          "params"
        ],
        kind_field: "method",
        kind_value: "market24h.subscribe",
        sources: [
          :send,
          :watch_multiple
        ]
      },
      %{
        args_field: "params",
        format: :method,
        id_field: "id",
        keys: [
          "id",
          "method",
          "params"
        ],
        kind_field: "method",
        kind_value: "orderbook.subscribe",
        sources: [
          :send,
          :watch
        ]
      },
      %{
        args_field: "params",
        format: :method,
        id_field: "id",
        keys: [
          "id",
          "method",
          "params"
        ],
        kind_field: "method",
        kind_value: "perp_market24h_pack_p.subscribe",
        sources: [
          :send,
          :watch_multiple
        ]
      },
      %{
        args_field: "params",
        format: :method,
        id_field: "id",
        keys: [
          "id",
          "method",
          "params"
        ],
        kind_field: "method",
        kind_value: "spot_market24h.subscribe",
        sources: [
          :send,
          :watch,
          :watch_multiple
        ]
      },
      %{
        args_field: "params",
        format: :method,
        id_field: "id",
        keys: [
          "id",
          "method",
          "params"
        ],
        kind_field: "method",
        kind_value: "trade.subscribe",
        sources: [
          :send,
          :watch
        ]
      },
      %{
        args_field: "params",
        format: :method,
        id_field: "id",
        keys: [
          "id",
          "method",
          "params"
        ],
        kind_field: "method",
        kind_value: "user.auth",
        sources: [
          :send,
          :watch
        ]
      },
      %{
        args_field: "params",
        format: :method,
        id_field: "id",
        keys: [
          "id",
          "method",
          "params"
        ],
        kind_field: "method",
        kind_value: "wo.subscribe",
        sources: [
          :send,
          :watch
        ]
      }
    ],
    streaming: %{
      keep_alive: 9000
    },
    subscription_config: %{
      args_field: "params",
      args_format: :string_list,
      market_id_format: :native,
      op_field: "method"
    },
    subscription_pattern: :method_as_topic,
    test_urls: "wss://testnet-api.phemex.com/ws",
    urls: "wss://ws.phemex.com",
    watch_methods: [
      "watchBalance",
      "watchMyTrades",
      "watchOHLCV",
      "watchOrderBook",
      "watchOrders",
      "watchTicker",
      "watchTickers",
      "watchTrades"
    ]
  }
}
